{"version":3,"sources":["webpack:///./src/views/nl/role/role-setting.vue","webpack:///./src/views/nl/role/role-setting.vue?4281","webpack:///./src/views/nl/role/role-setting.vue?4288","webpack:///role-setting.vue","webpack:///./src/views/nl/role/role-setting.vue?1459"],"names":["Component","__webpack_require__","ssrContext","module","exports","content","i","locals","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","data","this","$createElement","formSearch","email","roleTransferData","setRoleData","renderFunc","h","option","role_no","toUpperCase","role_name","loading","userInfo","hasRole","role","department_id","org_id","remark","role_type","status","update_time","update_user_id","user_id","dialogTitle","departmentList","currentDepartment","i18n","messages","created","computed","mounted","_this","scope","getAllRole","then","res","code","message","map","key","id","label","catch","err","$message","type","getAllDepartment","methods","clearData","goAfterIndex","$router","name","onSearch","_this2","getUserByEmail","getUserRoleDepRelByEmail","rel","role_id","onSave","_this3","user","saveUserRoleDepRel","handleChange","value","direction","movedKeys","console","log","_core2","default","Api","request","method","url","params","watch","render","_vm","_h","_c","_self","staticClass","attrs","inline","model","placeholder","callback","$$v","$set","expression","slot","on","click","_v","title","_e","directives","rawName","modifiers","body","_s","org","length","filterable","_l","item","render-content","titles","button-texts","format","noChecked","hasChecked","change","staticRenderFns"],"mappings":"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","file":"static/js/57.48993a105052523ad4a2.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2622b578\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./role-setting.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role-setting.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2622b578\\\",\\\"hasScoped\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./role-setting.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/nl/role/role-setting.vue\n// module id = 2122\n// module chunks = 57","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2622b578\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./role-setting.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"b6b74ba8\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2622b578\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/nl/role/role-setting.vue\n// module id = 2492\n// module chunks = 57","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".permission-setting{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.permission-setting .list-form-inline{height:100%;line-height:50px}.permission-setting .list-form-inline .el-form-item{margin-right:2px!important;margin-bottom:0}.permission-setting .list-form-inline .el-form-item__content{width:220px!important}.permission-setting .parts-list{display:-webkit-box;display:-ms-flexbox;display:flex;padding:27px 40px;overflow:hidden;width:100%;-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.permission-setting .parts-list .item{width:45%;height:30px;margin:0 20px}.permission-setting .parts-list .item.label{display:inline-block;width:150px}.permission-setting .no-data-content{position:relative;text-align:center;width:80%;margin:0 auto;padding:15px 30%;color:#fff;text-align:left}.permission-setting .transfer-box{text-align:center}.permission-setting .transfer{text-align:left;display:inline-block}.permission-setting .transfer ::-webkit-scrollbar{width:3px;height:14px}.permission-setting .transfer .el-transfer-panel{width:350px}.permission-setting .dialog-per-setting{overflow:hidden}.permission-setting .dialog-per-setting .el-dialog__body{font-size:0}.permission-setting .dialog-per-setting .item{width:50%;line-height:30px;display:inline-block}.permission-setting .dialog-per-setting .item .land{width:250px}.permission-setting .dialog-per-setting .item .title{display:inline-block;width:80px}.permission-setting .dialog-per-setting .item .content{margin:10px;display:inline-block;width:250px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/dd/Desktop/besst-build/clientBESST/src/views/nl/role/role-setting.vue\"],\"names\":[],\"mappings\":\"AACA,oBACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,WAAY,AACZ,WAAa,CACd,AACD,sCACI,YAAa,AACb,gBAAkB,CACrB,AACD,oDACM,2BAA6B,AAC7B,eAAiB,CACtB,AACD,6DACM,qBAAwB,CAC7B,AACD,gCACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,gBAAiB,AACjB,WAAY,AACZ,sBAAuB,AACnB,mBAAoB,AAChB,qBAAsB,AAC9B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,mBAAoB,AAChB,cAAgB,CACvB,AACD,sCACM,UAAW,AACX,YAAa,AACb,aAAe,CACpB,AACD,4CACQ,qBAAsB,AACtB,WAAa,CACpB,AACD,qCACI,kBAAmB,AACnB,kBAAmB,AACnB,UAAW,AACX,cAAe,AACf,iBAAkB,AAClB,WAAY,AACZ,eAAiB,CACpB,AACD,kCACI,iBAAmB,CACtB,AACD,8BACI,gBAAiB,AACjB,oBAAsB,CACzB,AACD,kDACM,UAAW,AACX,WAAa,CAClB,AACD,iDACM,WAAa,CAClB,AACD,wCACI,eAAiB,CACpB,AACD,yDACM,WAAa,CAClB,AACD,8CACM,UAAW,AACX,iBAAkB,AAClB,oBAAsB,CAC3B,AACD,oDACQ,WAAa,CACpB,AACD,qDACQ,qBAAsB,AACtB,UAAY,CACnB,AACD,uDACQ,YAAa,AACb,qBAAsB,AACtB,WAAa,CACpB\",\"file\":\"role-setting.vue\",\"sourcesContent\":[\"\\n.permission-setting {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n}\\n.permission-setting .list-form-inline {\\n    height: 100%;\\n    line-height: 50px;\\n}\\n.permission-setting .list-form-inline .el-form-item {\\n      margin-right: 2px !important;\\n      margin-bottom: 0;\\n}\\n.permission-setting .list-form-inline .el-form-item__content {\\n      width: 220px !important;\\n}\\n.permission-setting .parts-list {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    padding: 27px 40px;\\n    overflow: hidden;\\n    width: 100%;\\n    -webkit-box-pack: left;\\n        -ms-flex-pack: left;\\n            justify-content: left;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -ms-flex-wrap: wrap;\\n        flex-wrap: wrap;\\n}\\n.permission-setting .parts-list .item {\\n      width: 45%;\\n      height: 30px;\\n      margin: 0 20px;\\n}\\n.permission-setting .parts-list .item.label {\\n        display: inline-block;\\n        width: 150px;\\n}\\n.permission-setting .no-data-content {\\n    position: relative;\\n    text-align: center;\\n    width: 80%;\\n    margin: 0 auto;\\n    padding: 15px 30%;\\n    color: #fff;\\n    text-align: left;\\n}\\n.permission-setting .transfer-box {\\n    text-align: center;\\n}\\n.permission-setting .transfer {\\n    text-align: left;\\n    display: inline-block;\\n}\\n.permission-setting .transfer ::-webkit-scrollbar {\\n      width: 3px;\\n      height: 14px;\\n}\\n.permission-setting .transfer .el-transfer-panel {\\n      width: 350px;\\n}\\n.permission-setting .dialog-per-setting {\\n    overflow: hidden;\\n}\\n.permission-setting .dialog-per-setting .el-dialog__body {\\n      font-size: 0;\\n}\\n.permission-setting .dialog-per-setting .item {\\n      width: 50%;\\n      line-height: 30px;\\n      display: inline-block;\\n}\\n.permission-setting .dialog-per-setting .item .land {\\n        width: 250px;\\n}\\n.permission-setting .dialog-per-setting .item .title {\\n        display: inline-block;\\n        width: 80px;\\n}\\n.permission-setting .dialog-per-setting .item .content {\\n        margin: 10px;\\n        display: inline-block;\\n        width: 250px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2622b578\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/nl/role/role-setting.vue\n// module id = 2493\n// module chunks = 57","<template>\r\n  <div class=\"permission-setting\">\r\n    <div class=\"header\">\r\n      <el-form :inline=\"true\" :model=\"formSearch\" class=\"list-form-inline\">\r\n        <!-- <div class=\"btn-group-inline\">\r\n          <div class=\"icons\">\r\n            <span class=\"icon-item back\" @click=\"goAfterIndex\" title=\"back\"></span>\r\n          </div>\r\n        </div> -->\r\n        <el-form-item>\r\n          <el-input v-model=\"formSearch.email\" placeholder=\"Email\" class=\"input\">\r\n            <el-button slot=\"append\" @click=\"onSearch\">\r\n              <i class=\"el-icon-search\"></i>\r\n            </el-button>\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"btn-group-top\">\r\n        <div class=\"icons\">\r\n          <div class=\"icon-item save\" @click=\"onSave\" v-if=\"hasRole\" title=\"save\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"content-wrap\" v-loading.body=\"loading\">\r\n      <div class=\"content\">\r\n        <div class=\"parts-list\">\r\n          <div class=\"item\">\r\n            <label class=\"label\">User ID :</label>\r\n            <span>{{userInfo.user && userInfo.user.id || '-'}}</span>\r\n          </div>\r\n          <div class=\"item\">\r\n            <label class=\"label\">Name :</label>\r\n            <span>{{userInfo.user && userInfo.user.name || '-'}}</span>\r\n          </div>\r\n          <div class=\"item\">\r\n            <label class=\"label\">Email :</label>\r\n            <span>{{userInfo.user && userInfo.user.email || '-'}}</span>\r\n          </div>\r\n          <div class=\"item\">\r\n            <label class=\"label\">Organization ID :</label>\r\n            <span>{{userInfo.org && userInfo.org.id || '-'}}</span>\r\n          </div>\r\n          <div class=\"item\">\r\n            <label class=\"label\">Organization Name :</label>\r\n            <span>{{userInfo.org && userInfo.org.name || '-'}}</span>\r\n          </div>\r\n          <div class=\"item\" v-if=\"!loading && roleTransferData.length>0 && hasRole\">\r\n            <label class=\"label\">Department :</label>\r\n            <el-select class=\"land\" v-model=\"currentDepartment\" filterable slot=\"prepend\">\r\n              <el-option\r\n                v-for=\"item in departmentList\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"no-data-content\" v-if=\"!hasRole && !loading\">noResult</div>\r\n      <div class=\"transfer-box\" v-if=\"!loading && roleTransferData.length>0 && hasRole\">\r\n        <el-transfer\r\n          class=\"transfer\"\r\n          v-model=\"setRoleData\"\r\n          filterable\r\n          :render-content=\"renderFunc\"\r\n          :titles=\"['All Role', 'Set Role']\"\r\n          :button-texts=\"['Del','Add']\"\r\n          :format=\"{\r\n                        noChecked: '${total}',\r\n                        hasChecked: '${checked}/${total}'\r\n                    }\"\r\n          @change=\"handleChange\"\r\n          :data=\"roleTransferData\"\r\n        ></el-transfer>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Core from \"core/core\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      formSearch: {\r\n        email: \"\"\r\n      },\r\n      roleTransferData: [],\r\n      setRoleData: [],\r\n      renderFunc(h, option) {\r\n        return (\r\n          <span>\r\n            {option.role_no.toUpperCase()} - {option.role_name}\r\n          </span>\r\n        );\r\n      },\r\n      loading: false,\r\n      userInfo: {},\r\n      hasRole: false,\r\n      role: {\r\n        department_id: 0,\r\n        org_id: 0,\r\n        remark: \"\",\r\n        role_name: \"\",\r\n        role_no: \"\",\r\n        role_type: null,\r\n        status: 0,\r\n        update_time: 0,\r\n        update_user_id: 0,\r\n        user_id: 0\r\n      },\r\n      // 弹窗\r\n      dialogTitle: \"\",\r\n      //部门\r\n      departmentList: \"\",\r\n      //当前选中部门\r\n      currentDepartment: \"\"\r\n    };\r\n  },\r\n  i18n: {\r\n    messages: {}\r\n  },\r\n  created() {},\r\n  computed: {},\r\n  mounted() {\r\n    const scope = this;\r\n    this.loading = true;\r\n    this.getAllRole()\r\n      .then(res => {\r\n        if (res.code === -2) {\r\n          throw res.message;\r\n        }\r\n        scope.roleTransferData = res.map(res => {\r\n          res.key = res.id;\r\n          res.label = res.role_name;\r\n          return res;\r\n        });\r\n        this.loading = false;\r\n      })\r\n      .catch(err => {\r\n        this.$message({\r\n          message: err,\r\n          type: \"error\"\r\n        });\r\n        this.loading = false;\r\n      });\r\n\r\n    this.loading = true;\r\n    this.getAllDepartment()\r\n      .then(res => {\r\n        if (res.code === -2) {\r\n          throw res.message;\r\n        }\r\n        this.departmentList = res;\r\n        this.loading = false;\r\n      })\r\n      .catch(err => {\r\n        this.$message({\r\n          message: err,\r\n          type: \"error\"\r\n        });\r\n        this.loading = false;\r\n      });\r\n  },\r\n  methods: {\r\n    clearData() {\r\n      this.setRoleData = [];\r\n      this.userInfo = {};\r\n      this.hasRole = false;\r\n      this.loading = false;\r\n    },\r\n    // 返回路由\r\n    goAfterIndex() {\r\n      this.$router.push({ name: \"afterIndex\" });\r\n    },\r\n    // 搜索\r\n    onSearch() {\r\n      if (!this.formSearch.email) {\r\n        this.$message({\r\n          message: \"Please input email\",\r\n          type: \"warning\"\r\n        });\r\n        this.clearData();\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      this.getUserByEmail(this.formSearch.email)\r\n        .then(\r\n          res => {\r\n            if (res.code === 5 || res.code === 2) {\r\n              this.$message({\r\n                message: res.message,\r\n                type: \"warning\"\r\n              });\r\n              return false;\r\n            } else {\r\n              this.userInfo = res.data;\r\n              return this.getUserRoleDepRelByEmail(this.formSearch.email);\r\n            }\r\n          },\r\n          err => {\r\n            this.$message({\r\n              message: \"has error\",\r\n              type: \"error\"\r\n            });\r\n            return false;\r\n          }\r\n        )\r\n        .then(res => {\r\n          if (res === false) {\r\n            this.clearData();\r\n            return;\r\n          }\r\n\r\n          if (res.code === 5 || res.code === 2) {\r\n            this.$message({\r\n              message: res.message,\r\n              type: \"warning\"\r\n            });\r\n            this.clearData();\r\n          } else {\r\n            this.loading = false;\r\n            this.hasRole = true;\r\n            this.currentDepartment =\r\n              res.data.rel[0] && res.data.rel[0].department_id;\r\n            this.setRoleData = res.data.rel.map(res => {\r\n              return res.role_id;\r\n            });\r\n          }\r\n        });\r\n    },\r\n    onSave() {\r\n      if (!this.currentDepartment) {\r\n        this.$message({\r\n          message: \"Please select department\",\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n\r\n      const data = this.setRoleData.map(res => {\r\n        return {\r\n          role_id: res,\r\n          user_id: this.userInfo.user.id,\r\n          department_id: this.currentDepartment\r\n        };\r\n      });\r\n      this.loading = true;\r\n      this.saveUserRoleDepRel(data, this.userInfo.user.email).then(\r\n        res => {\r\n          this.loading = false;\r\n        },\r\n        err => {\r\n          this.$message({\r\n            message: \"has error\",\r\n            type: \"error\"\r\n          });\r\n          this.clearData();\r\n        }\r\n      );\r\n    },\r\n    handleChange(value, direction, movedKeys) {\r\n      console.log(value, direction, movedKeys);\r\n    },\r\n    // 查询用户ByEmail\r\n    getUserByEmail(email) {\r\n      return Core.Api.request({\r\n        method: \"GET\",\r\n        url: \"/user/user-by-email\",\r\n        data: {\r\n          email: email\r\n        }\r\n      });\r\n    },\r\n    // 查询角色部门关系ByEmail\r\n    getUserRoleDepRelByEmail(email) {\r\n      return Core.Api.request({\r\n        method: \"GET\",\r\n        url: \"/nl/public/userRoleDepartmentRel/email-to-rel\",\r\n        data: {\r\n          email: email\r\n        }\r\n      });\r\n    },\r\n    // 查询所有Role\r\n    getAllRole() {\r\n      return Core.Api.request({\r\n        method: \"GET\",\r\n        url: \"/nl/public/role/all\"\r\n      });\r\n    },\r\n    //获取所有部门\r\n    getAllDepartment() {\r\n      return Core.Api.request({\r\n        method: \"GET\",\r\n        url: \"/nl/public/department/all\"\r\n      });\r\n    },\r\n    //保存角色部门关系\r\n    saveUserRoleDepRel(data, email) {\r\n      return Core.Api.request({\r\n        method: \"POST\",\r\n        url: \"/nl/public/userRoleDepartmentRel/bulk-to-email\",\r\n        data: data,\r\n        params: {\r\n          email: email\r\n        }\r\n      });\r\n    }\r\n  },\r\n  watch: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\">\r\n.permission-setting {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  .list-form-inline {\r\n    height: 100%;\r\n    line-height: 50px;\r\n    .el-form-item {\r\n      margin-right: 2px !important;\r\n      margin-bottom: 0;\r\n    }\r\n    .el-form-item__content {\r\n      width: 220px !important;\r\n    }\r\n  }\r\n\r\n  .parts-list {\r\n    display: flex;\r\n    padding: 27px 40px;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    justify-content: left;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    .item {\r\n      width: 45%;\r\n      height: 30px;\r\n      margin: 0 20px;\r\n      &.label {\r\n        display: inline-block;\r\n        width: 150px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .no-data-content {\r\n    position: relative;\r\n    text-align: center;\r\n    width: 80%;\r\n    margin: 0 auto;\r\n    padding: 15px 30%;\r\n    color: #fff;\r\n    text-align: left;\r\n  }\r\n  .transfer-box {\r\n    text-align: center;\r\n  }\r\n  .transfer {\r\n    text-align: left;\r\n    display: inline-block;\r\n    ::-webkit-scrollbar {\r\n      width: 3px;\r\n      height: 14px;\r\n    }\r\n\r\n    .el-transfer-panel {\r\n      width: 350px;\r\n    }\r\n  }\r\n\r\n  .dialog-per-setting {\r\n    overflow: hidden;\r\n    .el-dialog__body {\r\n      font-size: 0;\r\n    }\r\n    .item {\r\n      width: 50%;\r\n      line-height: 30px;\r\n      display: inline-block;\r\n      .land {\r\n        width: 250px;\r\n      }\r\n      .title {\r\n        display: inline-block;\r\n        width: 80px;\r\n      }\r\n      .content {\r\n        margin: 10px;\r\n        display: inline-block;\r\n        width: 250px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// role-setting.vue?5e76f07e","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"permission-setting\"\n  }, [_c('div', {\n    staticClass: \"header\"\n  }, [_c('el-form', {\n    staticClass: \"list-form-inline\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.formSearch\n    }\n  }, [_c('el-form-item', [_c('el-input', {\n    staticClass: \"input\",\n    attrs: {\n      \"placeholder\": \"Email\"\n    },\n    model: {\n      value: (_vm.formSearch.email),\n      callback: function($$v) {\n        _vm.$set(_vm.formSearch, \"email\", $$v)\n      },\n      expression: \"formSearch.email\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"slot\": \"append\"\n    },\n    on: {\n      \"click\": _vm.onSearch\n    },\n    slot: \"append\"\n  }, [_c('i', {\n    staticClass: \"el-icon-search\"\n  })])], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn-group-top\"\n  }, [_c('div', {\n    staticClass: \"icons\"\n  }, [(_vm.hasRole) ? _c('div', {\n    staticClass: \"icon-item save\",\n    attrs: {\n      \"title\": \"save\"\n    },\n    on: {\n      \"click\": _vm.onSave\n    }\n  }) : _vm._e()])])], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticClass: \"content-wrap\"\n  }, [_c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"parts-list\"\n  }, [_c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"User ID :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.user && _vm.userInfo.user.id || '-'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Name :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.user && _vm.userInfo.user.name || '-'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Email :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.user && _vm.userInfo.user.email || '-'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Organization ID :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.org && _vm.userInfo.org.id || '-'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Organization Name :\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.userInfo.org && _vm.userInfo.org.name || '-'))])]), _vm._v(\" \"), (!_vm.loading && _vm.roleTransferData.length > 0 && _vm.hasRole) ? _c('div', {\n    staticClass: \"item\"\n  }, [_c('label', {\n    staticClass: \"label\"\n  }, [_vm._v(\"Department :\")]), _vm._v(\" \"), _c('el-select', {\n    staticClass: \"land\",\n    attrs: {\n      \"slot\": \"prepend\",\n      \"filterable\": \"\"\n    },\n    slot: \"prepend\",\n    model: {\n      value: (_vm.currentDepartment),\n      callback: function($$v) {\n        _vm.currentDepartment = $$v\n      },\n      expression: \"currentDepartment\"\n    }\n  }, _vm._l((_vm.departmentList), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))], 1) : _vm._e()])]), _vm._v(\" \"), (!_vm.hasRole && !_vm.loading) ? _c('div', {\n    staticClass: \"no-data-content\"\n  }, [_vm._v(\"noResult\")]) : _vm._e(), _vm._v(\" \"), (!_vm.loading && _vm.roleTransferData.length > 0 && _vm.hasRole) ? _c('div', {\n    staticClass: \"transfer-box\"\n  }, [_c('el-transfer', {\n    staticClass: \"transfer\",\n    attrs: {\n      \"filterable\": \"\",\n      \"render-content\": _vm.renderFunc,\n      \"titles\": ['All Role', 'Set Role'],\n      \"button-texts\": ['Del', 'Add'],\n      \"format\": {\n        noChecked: '${total}',\n        hasChecked: '${checked}/${total}'\n      },\n      \"data\": _vm.roleTransferData\n    },\n    on: {\n      \"change\": _vm.handleChange\n    },\n    model: {\n      value: (_vm.setRoleData),\n      callback: function($$v) {\n        _vm.setRoleData = $$v\n      },\n      expression: \"setRoleData\"\n    }\n  })], 1) : _vm._e()])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2622b578\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/nl/role/role-setting.vue\n// module id = 2495\n// module chunks = 57"],"sourceRoot":""}