webpackJsonp([25],{2132:function(t,e,n){var a=n(2)(n(2539),n(2540),function(t){n(2537)},null,null);t.exports=a.exports},2167:function(t,e,n){(function(n){var a,i,o;i=[],void 0===(o="function"==typeof(a=function(){"use strict";function e(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){s(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,s){var l=o.URL||o.webkitURL,r=document.createElement("a");n=n||t.name||"download",r.download=n,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?i(r):a(r.href)?e(t,n,s):i(r,r.target="_blank")):(r.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(r.href)},4e4),setTimeout(function(){i(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(a(t))e(t,n,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){i(s)})}}:function(t,n,a,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,a);var s="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||s&&l)&&"object"==typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=r?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},d.readAsDataURL(t)}else{var c=o.URL||o.webkitURL,A=c.createObjectURL(t);i?i.location=A:location.href=A,i=null,setTimeout(function(){c.revokeObjectURL(A)},4e4)}});o.saveAs=s.saveAs=s,void 0!==t&&(t.exports=s)})?a.apply(e,i):a)||(t.exports=o)}).call(e,n(54))},2347:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=n(3),o=(a=i)&&a.__esModule?a:{default:a};var s={filterCustomerPI:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.default.HttpHelp.request({method:"POST",url:"/nl/sales/proformaInvoice/filter",data:{customer_id:t,status:e},params:{page:1,size:999}})},filterCustomerPIDetail:function(t){return o.default.HttpHelp.request({method:"POST",url:"/nl/sales/proformaInvoice/detail/filter",data:{pi_no:t},params:{page:1,size:999}})},printPI:function(t){return o.default.HttpHelp.request({method:"POST",url:"/nl/sales/proformaInvoice/print_PI",params:{id:t},responseType:"blob"})}};e.default=s},2537:function(t,e,n){var a=n(2538);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(2089)("279ed929",a,!0,{})},2538:function(t,e,n){(t.exports=n(2088)(!0)).push([t.i,".PI-details{width:100%;height:100%}.PI-details span.required{color:#e26829;display:inline-block}.PI-details .el-form-item{margin-right:2px!important;margin-bottom:0}.PI-details .el-form-item__label{color:#fff;width:83px;text-align:left;margin-left:5px}.PI-details .el-form-item__content{width:180px!important}.PI-details .content-width{min-width:1246px}.PI-details .content{border:1px solid #2b2f3b;margin:20px auto 0}.PI-details .content .order-info{width:100%}.PI-details .content .order-info .title{height:50px;line-height:50px;padding-left:40px}.PI-details .content .order-info .left{float:left;width:100%;height:345px;background:#353945;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;border-bottom:1px solid #2b2f3b}.PI-details .content .order-info .left .item{line-height:60px;overflow:hidden;width:49%;height:50px;display:inline-block}.PI-details .content .order-info .left .item .label{display:inline-block;width:110px;margin-left:15px}.PI-details .content .order-info .left .item span{display:inline-block}.PI-details .parts-list{position:relative;text-align:right;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.PI-details .parts-list .att-total{display:inline-block;position:absolute;top:0;right:44px;color:#e26829}","",{version:3,sources:["C:/Users/dd/Desktop/besst-build/clientBESST/src/views/nl/sales/proforma-invoice-details.vue"],names:[],mappings:"AACA,YACE,WAAY,AACZ,WAAa,CACd,AACD,0BACI,cAAe,AACf,oBAAsB,CACzB,AACD,0BACI,2BAA6B,AAC7B,eAAiB,CACpB,AACD,iCACI,WAAY,AACZ,WAAY,AACZ,gBAAiB,AACjB,eAAiB,CACpB,AACD,mCACI,qBAAwB,CAC3B,AACD,2BACI,gBAAkB,CACrB,AACD,qBACI,yBAA0B,AAC1B,kBAAyB,CAC5B,AACD,iCACM,UAAY,CACjB,AACD,wCACQ,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,uCACQ,WAAY,AACZ,WAAY,AACZ,aAAc,AACd,mBAAoB,AACpB,kCAAmC,AAC3B,0BAA2B,AACnC,+BAAiC,CACxC,AACD,6CACU,iBAAkB,AAClB,gBAAiB,AACjB,UAAW,AACX,YAAa,AACb,oBAAsB,CAC/B,AACD,oDACY,qBAAsB,AACtB,YAAa,AACb,gBAAkB,CAC7B,AACD,kDACY,oBAAsB,CACjC,AACD,wBACI,kBAAmB,AACnB,iBAAkB,AAClB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACtC,AACD,mCACM,qBAAsB,AACtB,kBAAmB,AACnB,MAAO,AACP,WAAY,AACZ,aAAe,CACpB",file:"proforma-invoice-details.vue",sourcesContent:["\n.PI-details {\n  width: 100%;\n  height: 100%;\n}\n.PI-details span.required {\n    color: #e26829;\n    display: inline-block;\n}\n.PI-details .el-form-item {\n    margin-right: 2px !important;\n    margin-bottom: 0;\n}\n.PI-details .el-form-item__label {\n    color: #fff;\n    width: 83px;\n    text-align: left;\n    margin-left: 5px;\n}\n.PI-details .el-form-item__content {\n    width: 180px !important;\n}\n.PI-details .content-width {\n    min-width: 1246px;\n}\n.PI-details .content {\n    border: 1px solid #2b2f3b;\n    margin: 20px auto 0 auto;\n}\n.PI-details .content .order-info {\n      width: 100%;\n}\n.PI-details .content .order-info .title {\n        height: 50px;\n        line-height: 50px;\n        padding-left: 40px;\n}\n.PI-details .content .order-info .left {\n        float: left;\n        width: 100%;\n        height: 345px;\n        background: #353945;\n        -webkit-box-shadow: 0 -1px #2b2f3b;\n                box-shadow: 0 -1px #2b2f3b;\n        border-bottom: 1px solid #2b2f3b;\n}\n.PI-details .content .order-info .left .item {\n          line-height: 60px;\n          overflow: hidden;\n          width: 49%;\n          height: 50px;\n          display: inline-block;\n}\n.PI-details .content .order-info .left .item .label {\n            display: inline-block;\n            width: 110px;\n            margin-left: 15px;\n}\n.PI-details .content .order-info .left .item span {\n            display: inline-block;\n}\n.PI-details .parts-list {\n    position: relative;\n    text-align: right;\n    padding: 0 40px;\n    font-size: 12px;\n    overflow: hidden;\n    height: 50px;\n    line-height: 50px;\n    width: 100%;\n    -webkit-box-shadow: 0 -1px #2b2f3b;\n            box-shadow: 0 -1px #2b2f3b;\n}\n.PI-details .parts-list .att-total {\n      display: inline-block;\n      position: absolute;\n      top: 0;\n      right: 44px;\n      color: #e26829;\n}\n"],sourceRoot:""}])},2539:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=A(n(18)),i=A(n(3)),o=(A(n(88)),A(n(6))),s=A(n(5)),l=A(n(7)),r=A(n(8)),d=A(n(2347)),c=A(n(2167));function A(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!1,headData:[],total:0,orderId:0,customerList:[],formData:{},orderItems:[],currency:"",currencies:[{currency:1,label:"€"},{currency:2,label:"$"},{currency:3,label:"DM."},{currency:4,label:"￥"},{currency:5,label:"￡"}]}},i18n:{messages:{en:s.default.Component.Order.Save,zh:o.default.Component.Order.Save,de:l.default.Component.Order.Save,nl:r.default.Component.Order.Save}},created:function(){},computed:{totalCount:function(){var t=0;return this.orderItems.forEach(function(e){t+=e.amount}),Math.round(100*t)/100}},mounted:function(){var t=this;this.headData=["Item Name","BF Art No.","Customer Art No.","Description","Unit Price","VAT rate","Quantity","Amount"],this.loading=!0,this.getAllCustomer().then(function(e){if(-2===e.code)throw e.message;t.customerList=e,t.loading=!1}).catch(function(e){t.$message({message:e,type:"error"}),t.dialogVisible=!0,t.loading=!1});var e=this;e.orderId=this.$route.query.orderId,e.lodaing=!0,e.getPIById(e.orderId).then(function(t){return e.formData=JSON.parse((0,a.default)(t)),e.formData.date=i.default.Util.changeDateForm(1e3*e.formData.date),e.formData.etd=i.default.Util.changeDateForm(1e3*e.formData.etd),e.filterPIDetails(e.formData.pi_no)}).then(function(t){e.orderItems=t.content.map(function(t){return e.currency=t.currency,t.item_part_no=t.item_code,t}),e.loading=!1}).catch(function(t){e.$message({message:t.message,type:"error"}),e.loading=!1})},methods:{goPIList:function(){this.$router.push({name:"PIList"})},getAllCustomer:function(){return i.default.Api.request({method:"GET",url:"/nl/nlPublic/company/all"})},getPIById:function(t){return i.default.Api.request({method:"GET",url:"/nl/sales/proformaInvoice/"+t})},filterPIDetails:function(t){return i.default.Api.request({method:"POST",url:"/nl/sales/proformaInvoice/detail/filter",data:{pi_no:t},params:{page:1,size:999}})},onPrint:function(){var t=this;d.default.printPI(this.orderId).then(function(e){var n=new Date,a=n.getFullYear()+"-"+n.getMonth()+"-"+n.getDay(),i=t.formData.pi_no||a;(0,c.default)(e.data,i+".pdf")})}},watch:{}}},2540:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PI-details"},[n("div",{staticClass:"header"},[n("div",{staticClass:"btn-group-inline"},[n("div",{staticClass:"icons"},[n("div",{staticClass:"icon-item back",attrs:{title:"back"},on:{click:t.goPIList}})])]),t._v(" "),n("div",{staticClass:"btn-group-top"},[n("div",{staticClass:"icons"},[n("div",{staticClass:"icon-item print",attrs:{title:"print"},on:{click:t.onPrint}})])]),t._v(" "),n("label",{staticClass:"title"},[t._v("Proforma Invoice Details")])]),t._v(" "),n("div",{staticClass:"content-wrap"},[n("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"content content-width"},[n("div",{staticClass:"order-info"},[n("label",{staticClass:"title"},[t._v("Proforma Invoice Info")]),t._v(" "),n("div",{staticClass:"left"},[n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("PI No.")]),t._v(" "),n("span",[t._v(t._s(t.formData.pi_no))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Sales")]),t._v(" "),n("span",[t._v(t._s(t.formData.sales_name))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Customer")]),t._v(" "),n("span",[t._v(t._s(t.formData.customer_name))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Country")]),t._v(" "),n("span",[t._v(t._s(t.formData.country))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Address")]),t._v(" "),n("span",[t._v(t._s(t.formData.address))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Tel")]),t._v(" "),n("span",[t._v(t._s(t.formData.country_code)+" "+t._s(t.formData.telephone))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("VAT No.")]),t._v(" "),n("span",[t._v(t._s(t.formData.vat_no))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("ETD")]),t._v(" "),n("span",[t._v(t._s(t.formData.etd))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Trade Terms")]),t._v(" "),n("span",[t._v(t._s(t.formData.trade_terms))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Payment Term")]),t._v(" "),n("span",[t._v(t._s(t.formData.payment_term))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Date")]),t._v(" "),n("span",[t._v(t._s(t.formData.date))])]),t._v(" "),n("div",{staticClass:"item"},[n("label",{staticClass:"label"},[t._v("Currency/Amount")]),t._v(" "),n("span",[t._v(t._s(t._f("currencyType")(t.formData.currency))+t._s(t.formData.amount))])])])]),t._v(" "),n("div",{staticClass:"table-wrap table-overflow"},[n("table",{staticClass:"table-content",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[n("thead",t._l(t.headData,function(e){return n("td",[t._v(t._s(e))])})),t._v(" "),n("tbody",t._l(t.orderItems,function(e,a){return n("tr",[n("td",[t._v(t._s(e.model_name))]),t._v(" "),n("td",[t._v(t._s(e.bf_art_no))]),t._v(" "),n("td",[t._v(t._s(e.customer_art_no))]),t._v(" "),n("td",[t._v(t._s(e.description))]),t._v(" "),n("td",[t._v(t._s(t._f("currencyType")(e.currency))+t._s(e.unit_price))]),t._v(" "),n("td",[t._v(t._s(e.vat_rate)+"%")]),t._v(" "),n("td",[t._v(t._s(e.quantity))]),t._v(" "),n("td",[t._v(t._s(e.amount))])])}))])]),t._v(" "),n("div",{staticClass:"parts-list"},[n("span",{staticClass:"att-total"},[t._v("total: "+t._s(t._f("currencyType")(t.currency))+t._s(t.totalCount))])])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=25.56ef881d0f3a026f1e7c.js.map