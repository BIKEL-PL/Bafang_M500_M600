{"version":3,"sources":["webpack:///./src/views/nl/shipment-order/shipment-allocate.vue","webpack:///./src/views/nl/shipment-order/shipment-allocate.vue?0a17","webpack:///./src/views/nl/shipment-order/shipment-allocate.vue?5a92","webpack:///shipment-allocate.vue","webpack:///./src/views/nl/shipment-order/shipment-allocate.vue?6fbb"],"names":["Component","__webpack_require__","ssrContext","module","exports","content","i","locals","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","data","loading","tableHead","orderItems","orderId","warehouseList","isAdvice","noLocation","i18n","messages","en","_en2","default","Order","Save","zh","_zh2","de","_de2","nl","_nl2","computed","mounted","_this","this","scope","$route","query","getShipmentStatus","then","res","code","message","status_name","getAllocateAdvice","getAllocate","checkLocation","catch","err","$message","type","methods","list","filter","location_no","length","saveAllocate","_this2","id","postAllocate","$router","go","_core2","Api","request","method","url","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","on","click","$event","back","_v","directives","name","rawName","value","expression","modifiers","body","_e","border","cellspacing","cellpadding","_l","item","_s","index","_f","category_root_id","item_code","item_name","allocated_quantity","picked_quantity","shipped_quantity","staticRenderFns"],"mappings":"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","file":"static/js/56.3c70dcb7292464c4e150.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77a95cfa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shipment-allocate.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shipment-allocate.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77a95cfa\\\",\\\"hasScoped\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shipment-allocate.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/nl/shipment-order/shipment-allocate.vue\n// module id = 2115\n// module chunks = 56","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77a95cfa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./shipment-allocate.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4deaf26c\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-77a95cfa\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/nl/shipment-order/shipment-allocate.vue\n// module id = 2464\n// module chunks = 56","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".shipment-allocate{width:100%;height:100%}.shipment-allocate .table-wrap{width:100%;height:calc(100% - 392px);-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b;overflow-x:hidden}.shipment-allocate span.required{color:#e26829;display:inline-block}.shipment-allocate .content-set{width:1280px}.shipment-allocate .content-wrap .content{border:1px solid #2b2f3b}.shipment-allocate .content-wrap .content .parts-list{position:relative;padding:0 40px;font-size:12px;overflow:hidden;height:50px;line-height:50px;width:100%;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.shipment-allocate .content-wrap .content .parts-list .att-btn{padding:6px 9px;min-width:0;margin:11px auto;display:block}.shipment-allocate .content-wrap .content .parts-list .labelAdd{margin-left:14px}.shipment-allocate .content-wrap .content .parts-list .no-data-content{display:inline-block}.shipment-allocate .content-wrap .content .parts-list .btn-box{display:inline-block;text-align:right;margin-left:15px}.shipment-allocate .content-wrap .content .footer{width:100%;height:60px;line-height:60px;padding-left:40px;-webkit-box-shadow:0 -1px #2b2f3b;box-shadow:0 -1px #2b2f3b}.shipment-allocate .content-wrap .content .footer .footer-pagination{float:right}.shipment-allocate .table-wrap .table-content{padding-bottom:0}.shipment-allocate .dialog .el-dialog--large{width:1100px}.shipment-allocate .dialog .header .search-content{width:200px;margin-right:10px}.shipment-allocate .dialog .header .search-btn{position:absolute;top:15px;left:250px;width:30px;height:30px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/dd/Desktop/besst-build/clientBESST/src/views/nl/shipment-order/shipment-allocate.vue\"],\"names\":[],\"mappings\":\"AACA,mBACE,WAAY,AACZ,WAAa,CACd,AACD,+BACI,WAAY,AACZ,0BAA2B,AAC3B,kCAAmC,AAC3B,0BAA2B,AACnC,iBAAmB,CACtB,AACD,iCACI,cAAe,AACf,oBAAsB,CACzB,AACD,gCACI,YAAc,CACjB,AACD,0CACI,wBAA0B,CAC7B,AACD,sDACM,kBAAmB,AACnB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,+DACQ,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,aAAe,CACtB,AACD,gEACQ,gBAAkB,CACzB,AACD,uEACQ,oBAAsB,CAC7B,AACD,+DACQ,qBAAsB,AACtB,iBAAkB,AAClB,gBAAkB,CACzB,AACD,kDACM,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,kCAAmC,AAC3B,yBAA2B,CACxC,AACD,qEACQ,WAAa,CACpB,AACD,8CACI,gBAAkB,CACrB,AACD,6CACI,YAAc,CACjB,AACD,mDACI,YAAa,AACb,iBAAmB,CACtB,AACD,+CACI,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,WAAa,CAChB\",\"file\":\"shipment-allocate.vue\",\"sourcesContent\":[\"\\n.shipment-allocate {\\n  width: 100%;\\n  height: 100%;\\n}\\n.shipment-allocate .table-wrap {\\n    width: 100%;\\n    height: calc(100% - 392px);\\n    -webkit-box-shadow: 0 -1px #2b2f3b;\\n            box-shadow: 0 -1px #2b2f3b;\\n    overflow-x: hidden;\\n}\\n.shipment-allocate span.required {\\n    color: #e26829;\\n    display: inline-block;\\n}\\n.shipment-allocate .content-set {\\n    width: 1280px;\\n}\\n.shipment-allocate .content-wrap .content {\\n    border: 1px solid #2b2f3b;\\n}\\n.shipment-allocate .content-wrap .content .parts-list {\\n      position: relative;\\n      padding: 0 40px;\\n      font-size: 12px;\\n      overflow: hidden;\\n      height: 50px;\\n      line-height: 50px;\\n      width: 100%;\\n      -webkit-box-shadow: 0 -1px #2b2f3b;\\n              box-shadow: 0 -1px #2b2f3b;\\n}\\n.shipment-allocate .content-wrap .content .parts-list .att-btn {\\n        padding: 6px 9px;\\n        min-width: 0;\\n        margin: 11px auto;\\n        display: block;\\n}\\n.shipment-allocate .content-wrap .content .parts-list .labelAdd {\\n        margin-left: 14px;\\n}\\n.shipment-allocate .content-wrap .content .parts-list .no-data-content {\\n        display: inline-block;\\n}\\n.shipment-allocate .content-wrap .content .parts-list .btn-box {\\n        display: inline-block;\\n        text-align: right;\\n        margin-left: 15px;\\n}\\n.shipment-allocate .content-wrap .content .footer {\\n      width: 100%;\\n      height: 60px;\\n      line-height: 60px;\\n      padding-left: 40px;\\n      -webkit-box-shadow: 0 -1px #2b2f3b;\\n              box-shadow: 0 -1px #2b2f3b;\\n}\\n.shipment-allocate .content-wrap .content .footer .footer-pagination {\\n        float: right;\\n}\\n.shipment-allocate .table-wrap .table-content {\\n    padding-bottom: 0;\\n}\\n.shipment-allocate .dialog .el-dialog--large {\\n    width: 1100px;\\n}\\n.shipment-allocate .dialog .header .search-content {\\n    width: 200px;\\n    margin-right: 10px;\\n}\\n.shipment-allocate .dialog .header .search-btn {\\n    position: absolute;\\n    top: 15px;\\n    left: 250px;\\n    width: 30px;\\n    height: 30px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-77a95cfa\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/nl/shipment-order/shipment-allocate.vue\n// module id = 2465\n// module chunks = 56","<template>\r\n  <div class=\"shipment-allocate\">\r\n    <div class=\"header\">\r\n      <div class=\"btn-group-inline\">\r\n        <div class=\"icons\">\r\n          <div class=\"icon-item back\" @click=\"$router.back()\" title=\"back\"></div>\r\n        </div>\r\n      </div>\r\n      <label class=\"title\">Shipment Allocate</label>\r\n    </div>\r\n    <div class=\"content-wrap\" v-loading.body=\"loading\">\r\n      <div class=\"content content-set\">\r\n        <div class=\"parts-list\" v-if=\"orderItems.length <= 0 && !loading\">\r\n          <div class=\"no-data-content\">Insufficient stock, procurement or not</div>\r\n        </div>\r\n        <div class=\"table-wrap\">\r\n          <table class=\"table-content\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\r\n            <thead>\r\n              <td v-for=\"item in tableHead\">{{item}}</td>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in orderItems\">\r\n                <td>{{item.category_root_id | categoryRoot}}</td>\r\n                <td>{{item.item_code}}</td>\r\n                <td>{{item.item_name}}</td>\r\n                <td>{{item.allocated_quantity}}</td>\r\n                <td>{{item.picked_quantity}}</td>\r\n                <td>{{item.shipped_quantity}}</td>\r\n                <td>{{item.location_no || 'Out of stock'}}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"footer\" v-if=\"isAdvice\">\r\n          <el-button type=\"primary\" v-if=\"noLocation\" @click=\"saveAllocate\">Save Allocate</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Core from \"core/core\";\r\n\r\nimport ZH from \"src/assets/lang/zh\";\r\nimport EN from \"src/assets/lang/en\";\r\nimport DE from \"src/assets/lang/de\";\r\nimport NL from \"src/assets/lang/nl\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      tableHead: [\r\n        \"Item Name\",\r\n        \"Item Code\",\r\n        \"Specification\",\r\n        \"Allocated Quantity\",\r\n        \"Picked Quantity\",\r\n        \"Shipped Quantity\",\r\n        \"Location No.\"\r\n      ],\r\n      orderItems: [],\r\n      orderId: 0,\r\n      warehouseList: [],\r\n      isAdvice: false,\r\n      noLocation: false\r\n    };\r\n  },\r\n  i18n: {\r\n    messages: {\r\n      en: EN.Component.Order.Save,\r\n      zh: ZH.Component.Order.Save,\r\n      de: DE.Component.Order.Save,\r\n      nl: NL.Component.Order.Save\r\n    }\r\n  },\r\n  computed: {},\r\n  mounted: function() {\r\n    const scope = this;\r\n\r\n    scope.orderId = this.$route.query.orderId;\r\n    if (scope.orderId) {\r\n      scope.loading = true;\r\n      scope\r\n        .getShipmentStatus(scope.orderId)\r\n        .then(res => {\r\n          if (res.code === -2) {\r\n            throw res.message;\r\n          }\r\n          if (res.status_name === \"Approved\") {\r\n            scope.isAdvice = true;\r\n            return scope.getAllocateAdvice(scope.orderId);\r\n          } else {\r\n            scope.isAdvice = false;\r\n            return scope.getAllocate(scope.orderId);\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.code === -2) {\r\n            throw res.message;\r\n          }\r\n          scope.orderItems = res;\r\n          scope.noLocation = this.checkLocation(res);\r\n          scope.loading = false;\r\n        })\r\n        .catch(err => {\r\n          scope.$message({\r\n            message: err,\r\n            type: \"error\"\r\n          });\r\n          scope.loading = false;\r\n        });\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //判断库位货物是否充足\r\n    checkLocation(list) {\r\n      const data = list.filter(res => {\r\n        return res.location_no === null;\r\n      });\r\n      if(data.length === 0) {\r\n        return true;\r\n      }else {\r\n        return false;\r\n      }\r\n    },\r\n    saveAllocate() {\r\n      const scope = this;\r\n      const id = this.$route.query.orderId;\r\n      const data = this.orderItems;\r\n      scope.loading = true;\r\n      scope\r\n        .postAllocate(id, data)\r\n        .then(res => {\r\n          if (res.code === -2) {\r\n            throw res.message;\r\n          }\r\n          scope.isAdvice = false;\r\n          return scope.getAllocate(id);\r\n        })\r\n        .then(res => {\r\n          if (res.code === -2) {\r\n            throw res.message;\r\n          }\r\n          scope.$message({\r\n            message: \"Save Successfully\",\r\n            type: \"success\"\r\n          });\r\n          scope.loading = false;\r\n          scope.orderItems = res;\r\n          scope.noLocation = this.checkLocation(res);\r\n          this.$router.go(-1);\r\n        })\r\n        .catch(err => {\r\n          scope.$message({\r\n            message: err,\r\n            type: \"error\"\r\n          });\r\n          scope.loading = false;\r\n        });\r\n    },\r\n    //保存出库分配\r\n    postAllocate(id, data) {\r\n      return Core.Api.request({\r\n        method: \"post\",\r\n        url: \"/nl/order/shipment/\" + id + \"/allocate/advice\",\r\n        data: data\r\n      });\r\n    },\r\n    //创建出库分配\r\n    getAllocateAdvice(id) {\r\n      return Core.Api.request({\r\n        method: \"get\",\r\n        url: \"/nl/order/shipment/\" + id + \"/allocate/advice\"\r\n      });\r\n    },\r\n    //获取状态\r\n    getShipmentStatus(id) {\r\n      return Core.Api.request({\r\n        method: \"get\",\r\n        url: \"/nl/order/shipment/\" + id + \"/status\"\r\n      });\r\n    },\r\n    getAllocate(id) {\r\n      return Core.Api.request({\r\n        method: \"get\",\r\n        url: \"/nl/order/shipment/\" + id + \"/allocate\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\">\r\n.shipment-allocate {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .table-wrap {\r\n    width: 100%;\r\n    height: calc(100% - 392px);\r\n    box-shadow: 0 -1px #2b2f3b;\r\n    overflow-x: hidden;\r\n  }\r\n\r\n  span.required {\r\n    color: #e26829;\r\n    display: inline-block;\r\n  }\r\n  .content-set {\r\n    width: 1280px;\r\n  }\r\n  .content-wrap {\r\n    .content {\r\n      border: 1px solid #2b2f3b;\r\n      .parts-list {\r\n        position: relative;\r\n        padding: 0 40px;\r\n        font-size: 12px;\r\n        overflow: hidden;\r\n        height: 50px;\r\n        line-height: 50px;\r\n        width: 100%;\r\n        box-shadow: 0 -1px #2b2f3b;\r\n        .att-btn {\r\n          padding: 6px 9px;\r\n          min-width: 0;\r\n          margin: 11px auto;\r\n          display: block;\r\n        }\r\n        .labelAdd {\r\n          margin-left: 14px;\r\n        }\r\n        .no-data-content {\r\n          display: inline-block;\r\n        }\r\n        .btn-box {\r\n          display: inline-block;\r\n          text-align: right;\r\n          margin-left: 15px;\r\n        }\r\n      }\r\n      .footer {\r\n        width: 100%;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        padding-left: 40px;\r\n        box-shadow: 0 -1px #2b2f3b;\r\n        .footer-pagination {\r\n          float: right;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .table-wrap .table-content {\r\n    padding-bottom: 0;\r\n  }\r\n\r\n  .dialog {\r\n    .el-dialog--large {\r\n      width: 1100px;\r\n    }\r\n    .header {\r\n      .search-content {\r\n        width: 200px;\r\n        margin-right: 10px;\r\n      }\r\n      .search-btn {\r\n        position: absolute;\r\n        top: 15px;\r\n        left: 250px;\r\n        width: 30px;\r\n        height: 30px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// shipment-allocate.vue?843d9476","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"shipment-allocate\"\n  }, [_c('div', {\n    staticClass: \"header\"\n  }, [_c('div', {\n    staticClass: \"btn-group-inline\"\n  }, [_c('div', {\n    staticClass: \"icons\"\n  }, [_c('div', {\n    staticClass: \"icon-item back\",\n    attrs: {\n      \"title\": \"back\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$router.back()\n      }\n    }\n  })])]), _vm._v(\" \"), _c('label', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Shipment Allocate\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticClass: \"content-wrap\"\n  }, [_c('div', {\n    staticClass: \"content content-set\"\n  }, [(_vm.orderItems.length <= 0 && !_vm.loading) ? _c('div', {\n    staticClass: \"parts-list\"\n  }, [_c('div', {\n    staticClass: \"no-data-content\"\n  }, [_vm._v(\"Insufficient stock, procurement or not\")])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"table-wrap\"\n  }, [_c('table', {\n    staticClass: \"table-content\",\n    attrs: {\n      \"border\": \"0\",\n      \"cellspacing\": \"0\",\n      \"cellpadding\": \"0\"\n    }\n  }, [_c('thead', _vm._l((_vm.tableHead), function(item) {\n    return _c('td', [_vm._v(_vm._s(item))])\n  })), _vm._v(\" \"), _c('tbody', _vm._l((_vm.orderItems), function(item, index) {\n    return _c('tr', [_c('td', [_vm._v(_vm._s(_vm._f(\"categoryRoot\")(item.category_root_id)))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.item_code))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.item_name))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.allocated_quantity))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.picked_quantity))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.shipped_quantity))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.location_no || 'Out of stock'))])])\n  }))])]), _vm._v(\" \"), (_vm.isAdvice) ? _c('div', {\n    staticClass: \"footer\"\n  }, [(_vm.noLocation) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveAllocate\n    }\n  }, [_vm._v(\"Save Allocate\")]) : _vm._e()], 1) : _vm._e()])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77a95cfa\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/nl/shipment-order/shipment-allocate.vue\n// module id = 2467\n// module chunks = 56"],"sourceRoot":""}