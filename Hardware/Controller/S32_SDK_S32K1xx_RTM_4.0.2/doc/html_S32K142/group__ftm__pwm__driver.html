<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S32 SDK: FlexTimer Pulse Width Modulation Driver (FTM_PWM)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top" style="height:auto; width:100%"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <img id="projectlogo" style="height:auto; width:100%" alt="Logo" src="s32sdk_logo_small.jpg"/>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ftm__pwm__driver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FlexTimer Pulse Width Modulation Driver (FTM_PWM)<div class="ingroups"><a class="el" href="group__ftm.html">FlexTimer (FTM)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>FlexTimer Pulse Width Modulation Peripheral Driver. </p>
<h2>Hardware background</h2>
<p>The FlexTimer module is based on a 16 bits counter and supports: input capture, output compare, PWM and some instances include quadrature decoder.</p>
<h2>How to use FTM driver in your application</h2>
<p>For all operation modes (without Quadrature Decoder mode) the user need to configure <a class="el" href="structftm__user__config__t.html" title="Configuration structure that the user needs to set. ">ftm_user_config_t</a>. This structure will be used for initialization (FTM_DRV_Init). The next functions used are specific for each operation mode.</p>
<h3>PWM mode</h3>
<p>For this mode, the user needs to configure parameters such: number of PWM channels, frequency, dead time, fault channels and duty cycle, alignment (edge or center). All this information is included in the <a class="el" href="structftm__pwm__param__t.html" title="FlexTimer driver PWM parameters. ">ftm_pwm_param_t</a> structure.</p>
<p>FTM_DRV_UpdatePwmChannel can be used to update duty cycles at run time. If the type of update in the duty cycle when the duty cycle can have value between 0x0 (0%) and 0x8000 (100%). If the type of update in ticks when the firstEdge and secondEdge variables can have value between 0 and ftmPeriod which is stored in the state structure.</p>
<h3>Safe state and polarity of the PWM channels</h3>
<p>These 2 parameters are dependent from FTM hardware perspective, but the FTM_PWM driver can handle them independently, so polarity field configures the final polarity measured at MCU pins and safeState field is the value of the PWM channel when fault is detected and fault is configured to use safe state, not tri-state mode. The same behavior is available for combined mode, polarity and safe state can be configured independently.</p>
<h2>API code changes</h2>
<p>In BETA 2.9.0 the following changes were made in FTM_PWM API:</p><ul>
<li>from <a class="el" href="structftm__independent__ch__param__t.html" title="FlexTimer driver independent PWM parameter. ">ftm_independent_ch_param_t</a> the following fields were removed: levelSelect</li>
<li>in <a class="el" href="structftm__independent__ch__param__t.html" title="FlexTimer driver independent PWM parameter. ">ftm_independent_ch_param_t</a> safeState field was added</li>
<li>from <a class="el" href="structftm__combined__ch__param__t.html" title="FlexTimer driver combined PWM parameter. ">ftm_combined_ch_param_t</a> the following fields were removed: levelSelect, levelSelectOnNextChn.</li>
<li>in <a class="el" href="structftm__combined__ch__param__t.html" title="FlexTimer driver combined PWM parameter. ">ftm_combined_ch_param_t</a> mainChannelSafeState and secondChannelSafeState fields were added.</li>
<li>ftm_safe_state_polarity_t enum was changed</li>
</ul>
<p>From application perspective the impact is the following:</p><ul>
<li>second channel can't be used in independent channels, just in combined channels</li>
<li>polarity and safe state should be checked with the new API.</li>
</ul>
<p>The advantages of the FTM_PWM API from BETA 2.9,0 are:</p><ul>
<li>safe state and polarity can be configured without strong understatement of the Reference Manual</li>
<li>dead time will be always inserted Note that:</li>
<li>In the <a class="el" href="structftm__independent__ch__param__t.html" title="FlexTimer driver independent PWM parameter. ">ftm_independent_ch_param_t</a> structure has the "ftm_safe_state_polarity_t safeState" variable which user can configure the polarity of PWM signal on the channel n+1. and the "ftm_second_channel_polarity_t secondChannelPolarity" is only used to configure the channel n+1 in the complementary mode for the inverted or duplicated channel n.</li>
<li>In the combined channel, the configuration structure has same feature as in the independent mode. It is only difference which the "ftm_safe_state_polarity_t secondChannelSafeState" variable should be set the channel (n+1) polarity if needed.</li>
<li>When the fault input is disabled in the configuration the user should be set the ftm_safe_state_polarity_t as FTM_LOW_STATE for both cases in the independent and combined channel because it is not necessary.</li>
<li>On S32K1xx, the clock source for Deadtime is always the System Clock, regardless of the current Clock Source used for FTM (Fixed, External).</li>
</ul>
<h2>Integration guideline</h2>
<h3>Compilation units</h3>
<p>The following files need to be compiled in the project: </p><pre class="fragment">    ${S32SDK_PATH}\platform\drivers\src\ftm\ftm_pwm_driver.c
    ${S32SDK_PATH}\platform\drivers\src\ftm\ftm_common.c
    ${S32SDK_PATH}\platform\drivers\src\ftm\ftm_hw_access.c</pre><h3>Include path</h3>
<p>The following paths need to be added to the include path of the toolchain: </p><pre class="fragment">    ${S32SDK_PATH}\platform\drivers\inc\
    ${S32SDK_PATH}\platform\drivers\src\ftm\</pre><h3>Preprocessor symbols</h3>
<p>No special symbols are required for this component</p>
<h3>Dependencies</h3>
<p><a class="el" href="group__clock__manager.html">Clock Manager</a> <a class="el" href="group__interrupt__manager.html">Interrupt Manager (Interrupt)</a></p>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">/* The state structure of instance in the PWM mode */</span></div>
<div class="line"><a class="code" href="structftm__state__t.html">ftm_state_t</a> statePwm;</div>
<div class="line"><span class="preprocessor">#define FTM_PWM_INSTANCE        1UL</span></div>
<div class="line"><span class="comment">/* Fault configuration structure */</span></div>
<div class="line"><a class="code" href="structftm__pwm__fault__param__t.html">ftm_pwm_fault_param_t</a> PWM_FaultConfig =</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">false</span>,</div>
<div class="line">    <span class="keyword">true</span>,</div>
<div class="line">    5U,                             <span class="comment">/* Fault filter value */</span></div>
<div class="line">    <a class="code" href="group__ftm__pwm__driver.html#gga213e1e63c7f3d02502a5ef924821aaffae89a6bc05c3e0bc7383a472800c62b80">FTM_FAULT_CONTROL_MAN_EVEN</a>,</div>
<div class="line">    {</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">true</span>,                   <span class="comment">/* Fault channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723ab3c7e7ff6865e098dc563f101cbf2296">FTM_POLARITY_HIGH</a>,      <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/* Independent channels configuration structure for PWM */</span></div>
<div class="line"><a class="code" href="structftm__independent__ch__param__t.html">ftm_independent_ch_param_t</a> PWM_IndependentChannelsConfig[1] =</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">    0U,                     <span class="comment">/* hwChannelId */</span></div>
<div class="line">    <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>,         <span class="comment">/* Polarity of the PWM signal */</span></div>
<div class="line">    4096U,                     <span class="comment">/* Duty cycle percent 0-0x8000 */</span></div>
<div class="line">    <span class="keyword">false</span>,                     <span class="comment">/* External Trigger */</span></div>
<div class="line">    <a class="code" href="group__ftm__pwm__driver.html#ggad25b85b47385f2e01180ad9ab26f381cad56c019ddd5ea04f11a76272b39facc1">FTM_LOW_STATE</a>,             <span class="comment">/* Safe state of the PWM channel when faults are detected */</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/* PWM configuration for PWM */</span></div>
<div class="line"><a class="code" href="structftm__pwm__param__t.html">ftm_pwm_param_t</a> PWM_PwmConfig =</div>
<div class="line">{</div>
<div class="line">    1U,                             <span class="comment">/* Number of independent PWM channels */</span></div>
<div class="line">    0U,                             <span class="comment">/* Number of combined PWM channels */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggad807c3c9d7e0ccde621aef85081ea8a8a84e04eb088c231a12a4801fabcc2b9cf">FTM_MODE_EDGE_ALIGNED_PWM</a>,      <span class="comment">/* PWM mode */</span></div>
<div class="line">    0U,                             <span class="comment">/* DeadTime Value */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#gga4ba0e8a6ee01ac1ead5aac305a183cbdae60dc92313d09089e8d36bc83f33753e">FTM_DEADTIME_DIVID_BY_4</a>,        <span class="comment">/* DeadTime clock divider */</span></div>
<div class="line">    7481U,                          <span class="comment">/* PWM frequency */</span></div>
<div class="line">    PWM_IndependentChannelsConfig,  <span class="comment">/* Independent PWM channels configuration structure */</span></div>
<div class="line">    NULL,                           <span class="comment">/* Combined PWM channels configuration structure */</span></div>
<div class="line">    &amp;PWM_FaultConfig                <span class="comment">/* PWM fault configuration structure */</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/* Timer mode configuration for PWM */</span></div>
<div class="line"><span class="comment">/* Global configuration of PWM */</span></div>
<div class="line"><a class="code" href="structftm__user__config__t.html">ftm_user_config_t</a>  PWM_InitConfig =</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Software trigger state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 1 state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 2 state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 3 state */</span></div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Maximum loading point state */</span></div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Min loading point state */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for INVCTRL register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for SWOCTRL register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for OUTMASK register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for CNTIN register */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Auto clear trigger state for hardware trigger */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#ggac2ec54f33420e81b2fdd359cb790fda1a17bfa23688238b8316be0926442f34ee">FTM_UPDATE_NOW</a>,             <span class="comment">/* Select synchronization method */</span></div>
<div class="line">    },</div>
<div class="line">    <a class="code" href="group__ftm.html#ggad807c3c9d7e0ccde621aef85081ea8a8a84e04eb088c231a12a4801fabcc2b9cf">FTM_MODE_EDGE_ALIGNED_PWM</a>,      <span class="comment">/* PWM mode */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#gga3c3e411f333eecedb94d9e865d321bcfa43f636f98360ee2de559c717d283bf69">FTM_CLOCK_DIVID_BY_4</a>,           <span class="comment">/* FTM clock pre-scaler */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggaa06173bb43f7666ce1f39dd68fe74edca0294aefcd53cfb8c31ce2199ebf0ae81">FTM_CLOCK_SOURCE_SYSTEMCLK</a>,     <span class="comment">/* FTM clock source */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggad56a34539f559be0d845c2f50b30961aa9e4da83e88d1e3f3ef3e7367abefff56">FTM_BDM_MODE_11</a>,                <span class="comment">/* FTM debug mode */</span></div>
<div class="line">    <span class="keyword">false</span>,                          <span class="comment">/* Interrupt state */</span></div>
<div class="line">    <span class="keyword">false</span>                           <span class="comment">/* Initialization trigger */</span></div>
<div class="line">};</div>
<div class="line"><a class="code" href="group__ftm.html#gab429cac803c9a9699ca81b36b172a0e5">FTM_DRV_Init</a>(FTM_PWM_INSTANCE, &amp;PWM_InitConfig, &amp;statePwm);</div>
<div class="line"><a class="code" href="group__ftm__pwm__driver.html#gac6b6890c12d3dc0a86ce2b5ac0744619">FTM_DRV_InitPwm</a>(FTM_PWM_INSTANCE, &amp;PWM_PwmConfig);</div>
<div class="line"><span class="comment">/* It&#39;s recommended to use softwareTrigger = true */</span></div>
<div class="line"><span class="comment">/* The SECOND_EDGE value is used only when PWM is used in combined mode */</span></div>
<div class="line"><a class="code" href="group__ftm__pwm__driver.html#ga30bef8e865a1153c8c98267a5559a7ec">FTM_DRV_UpdatePwmChannel</a>(FTM_PWM_INSTANCE, 0UL, <a class="code" href="group__ftm__pwm__driver.html#ggac9002b5a0a07bff35f9dd1775ea092d9a573cc73c1639b8ccb503e85db65f6f04">FTM_PWM_UPDATE_IN_DUTY_CYCLE</a>, 0x800U, 0x2000U, <span class="keyword">true</span>);</div>
</div><!-- fragment --><h3>PWM in Modified Combine mode</h3>
<p>For this mode the user needs to configure parameters such: number of PWM channels, frequency, dead time, fault channels and duty cycle, alignment (edge or center). All this information is included in <a class="el" href="structftm__pwm__param__t.html" title="FlexTimer driver PWM parameters. ">ftm_pwm_param_t</a> data type. The Modified Combine PWM mode is intended to support the generation of PWM signals where the period is not modified while the signal is being generated, but the duty cycle will be varied. FTM_DRV_UpdatePwmChannel can be used to update duty cycles at run time. If the type of update in the duty cycle when the duty cycle can have value between 0x0 (0%) and 0x8000 (100%). If the type of update in ticks when the firstEdge and secondEdge variables can have value between 0 and ftmPeriod which is stored in the state structure.In this mode, an even channel (n) and adjacent odd channel (n+1) are combined to generate a PWM signal in the channel (n) output. Thus, the channel (n) match edge is fixed and the channel (n+1) match edge can be varied.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">/* The state structure of instance in the PWM mode */</span></div>
<div class="line"><a class="code" href="structftm__state__t.html">ftm_state_t</a> statePwm;</div>
<div class="line"><span class="preprocessor">#define FTM_PWM_INSTANCE        0UL</span></div>
<div class="line"><span class="comment">/* Fault configuration structure */</span></div>
<div class="line"><a class="code" href="structftm__pwm__fault__param__t.html">ftm_pwm_fault_param_t</a> PWM_FaultConfig =</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">false</span>,</div>
<div class="line">    <span class="keyword">true</span>,</div>
<div class="line">    5U,                             <span class="comment">/* Fault filter value */</span></div>
<div class="line">    <a class="code" href="group__ftm__pwm__driver.html#gga213e1e63c7f3d02502a5ef924821aaffae89a6bc05c3e0bc7383a472800c62b80">FTM_FAULT_CONTROL_MAN_EVEN</a>,</div>
<div class="line">    {</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">true</span>,                   <span class="comment">/* Fault channel state (Enabled/Disabled )*/</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723ab3c7e7ff6865e098dc563f101cbf2296">FTM_POLARITY_HIGH</a>,      <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"><span class="comment">/* Combine channels configuration structure for PWM */</span></div>
<div class="line"><a class="code" href="structftm__combined__ch__param__t.html">ftm_combined_ch_param_t</a> flexTimer1_CombinedChannelsConfig[1] =</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">        2U,                   <span class="comment">/* Hardware channel for channel (n) */</span></div>
<div class="line">        0U,                   <span class="comment">/* First edge time */</span></div>
<div class="line">        0U,                   <span class="comment">/* Second edge time */</span></div>
<div class="line">        <span class="keyword">true</span>,                 <span class="comment">/* Dead time enabled/disabled */</span></div>
<div class="line">        <span class="keyword">true</span>,                 <span class="comment">/* The modified combine mode enabled/disabled */</span></div>
<div class="line">        <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723ab3c7e7ff6865e098dc563f101cbf2296">FTM_POLARITY_HIGH</a>,     <span class="comment">/* Select channel (n) polarity */</span></div>
<div class="line">        <span class="keyword">true</span>,                 <span class="comment">/* Enabled/disabled the channel (n+1) output */</span></div>
<div class="line">        <a class="code" href="group__ftm__pwm__driver.html#gga713bb504ba4feb21d58737b05e5eed5aad77b98c764a888678a6cbec93cc0cf1c">FTM_MAIN_INVERTED</a>,     <span class="comment">/* Select channel (n+1) output relative to channel (n) */</span></div>
<div class="line">        <span class="keyword">false</span>,                 <span class="comment">/* External Trigger on the channel (n) */</span></div>
<div class="line">        <span class="keyword">false</span>,                 <span class="comment">/* External Trigger on the channel (n+1) */</span></div>
<div class="line">        <a class="code" href="group__ftm__pwm__driver.html#ggad25b85b47385f2e01180ad9ab26f381cad56c019ddd5ea04f11a76272b39facc1">FTM_LOW_STATE</a>,         <span class="comment">/* Safe state of the PWM channel n when faults are detected */</span></div>
<div class="line">        <a class="code" href="group__ftm__pwm__driver.html#ggad25b85b47385f2e01180ad9ab26f381cad56c019ddd5ea04f11a76272b39facc1">FTM_LOW_STATE</a>,         <span class="comment">/* Safe state of the PWM channel n+1 when faults are detected */</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"><span class="comment">/* PWM configuration for PWM */</span></div>
<div class="line"><a class="code" href="structftm__pwm__param__t.html">ftm_pwm_param_t</a> PWM_PwmConfig =</div>
<div class="line">{</div>
<div class="line">    0U,                                <span class="comment">/* Number of independent PWM channels */</span></div>
<div class="line">    1U,                                <span class="comment">/* Number of combined PWM channels */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggad807c3c9d7e0ccde621aef85081ea8a8a84e04eb088c231a12a4801fabcc2b9cf">FTM_MODE_EDGE_ALIGNED_PWM</a>,         <span class="comment">/* PWM mode */</span></div>
<div class="line">    0U,                                <span class="comment">/* DeadTime Value */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#gga4ba0e8a6ee01ac1ead5aac305a183cbdae60dc92313d09089e8d36bc83f33753e">FTM_DEADTIME_DIVID_BY_4</a>,           <span class="comment">/* DeadTime clock divider */</span></div>
<div class="line">    7481U,                             <span class="comment">/* PWM frequency */</span></div>
<div class="line">    NULL,                              <span class="comment">/* Independent PWM channels configuration structure */</span></div>
<div class="line">    flexTimer1_CombinedChannelsConfig, <span class="comment">/* Combined PWM channels configuration structure */</span></div>
<div class="line">    &amp;PWM_FaultConfig                   <span class="comment">/* PWM fault configuration structure */</span></div>
<div class="line">};</div>
<div class="line"><span class="comment">/* Timer mode configuration for PWM */</span></div>
<div class="line"><span class="comment">/* Global configuration of PWM */</span></div>
<div class="line"><a class="code" href="structftm__user__config__t.html">ftm_user_config_t</a>  PWM_InitConfig =</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Software trigger state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 1 state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 2 state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 3 state */</span></div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Maximum loading point state */</span></div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Min loading point state */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for INVCTRL register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for SWOCTRL register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for OUTMASK register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for CNTIN register */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Auto clear trigger state for hardware trigger */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#ggac2ec54f33420e81b2fdd359cb790fda1a17bfa23688238b8316be0926442f34ee">FTM_UPDATE_NOW</a>,             <span class="comment">/* Select synchronization method */</span></div>
<div class="line">    },</div>
<div class="line">    <a class="code" href="group__ftm.html#ggad807c3c9d7e0ccde621aef85081ea8a8a84e04eb088c231a12a4801fabcc2b9cf">FTM_MODE_EDGE_ALIGNED_PWM</a>,      <span class="comment">/* PWM mode */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#gga3c3e411f333eecedb94d9e865d321bcfa43f636f98360ee2de559c717d283bf69">FTM_CLOCK_DIVID_BY_4</a>,           <span class="comment">/* FTM clock pre-scaler */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggaa06173bb43f7666ce1f39dd68fe74edca0294aefcd53cfb8c31ce2199ebf0ae81">FTM_CLOCK_SOURCE_SYSTEMCLK</a>,     <span class="comment">/* FTM clock source */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggad56a34539f559be0d845c2f50b30961aa9e4da83e88d1e3f3ef3e7367abefff56">FTM_BDM_MODE_11</a>,                <span class="comment">/* FTM debug mode */</span></div>
<div class="line">    <span class="keyword">false</span>,                          <span class="comment">/* Interrupt state */</span></div>
<div class="line">    <span class="keyword">false</span>                           <span class="comment">/* Initialization trigger */</span></div>
<div class="line">};</div>
<div class="line"><a class="code" href="group__ftm.html#gab429cac803c9a9699ca81b36b172a0e5">FTM_DRV_Init</a>(FTM_PWM_INSTANCE, &amp;PWM_InitConfig, &amp;statePwm);</div>
<div class="line"><a class="code" href="group__ftm__pwm__driver.html#gac6b6890c12d3dc0a86ce2b5ac0744619">FTM_DRV_InitPwm</a>(FTM_PWM_INSTANCE, &amp;PWM_PwmConfig);</div>
<div class="line"><span class="comment">/* It&#39;s recommended to use softwareTrigger = true */</span></div>
<div class="line"><span class="comment">/* Only second edge can be updated when FTM is running. */</span></div>
<div class="line"><a class="code" href="group__ftm__pwm__driver.html#ga30bef8e865a1153c8c98267a5559a7ec">FTM_DRV_UpdatePwmChannel</a>(FTM_PWM_INSTANCE, 0UL, <a class="code" href="group__ftm__pwm__driver.html#ggac9002b5a0a07bff35f9dd1775ea092d9a573cc73c1639b8ccb503e85db65f6f04">FTM_PWM_UPDATE_IN_DUTY_CYCLE</a>, 0x0U, 0x2000U, <span class="keyword">true</span>);</div>
</div><!-- fragment --><h3>Edge-Aligned PWM and Input Capture mode</h3>
<p>Support an additional Input Capture mode on other channels in the same FTM instance:</p><ul>
<li>The measurement range of Input Capture will depend on PWM configuration. The frequency of measured signal must greater than frequency of PWM signal.</li>
<li>For this mode, the recommended synchronization point is the next loading point (not immediately) to avoid breaking the current measurement signal from Input Capture.</li>
<li>The S32CT configuration is not possible to add both drivers on the same instance, even if the driver support this. The initialization sequences below: <div class="fragment"><div class="line"><span class="comment">/* The state structure of instance in the PWM and Input Capture mode */</span></div>
<div class="line"><a class="code" href="structftm__state__t.html">ftm_state_t</a> statePwmIc;</div>
<div class="line"><span class="preprocessor">#define FTM_PWM_IC_INSTANCE        0UL</span></div>
<div class="line"><span class="comment">/* Fault configuration structure */</span></div>
<div class="line"><a class="code" href="structftm__pwm__fault__param__t.html">ftm_pwm_fault_param_t</a> PWM_FaultConfig =</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">false</span>,</div>
<div class="line">    <span class="keyword">true</span>,</div>
<div class="line">    5U,                             <span class="comment">/* Fault filter value */</span></div>
<div class="line">    <a class="code" href="group__ftm__pwm__driver.html#gga213e1e63c7f3d02502a5ef924821aaffae89a6bc05c3e0bc7383a472800c62b80">FTM_FAULT_CONTROL_MAN_EVEN</a>,</div>
<div class="line">    {</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">true</span>,                   <span class="comment">/* Fault channel state (Enabled/Disabled )*/</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723ab3c7e7ff6865e098dc563f101cbf2296">FTM_POLARITY_HIGH</a>,      <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault Channel state (Enabled/Disabled) */</span></div>
<div class="line">            <span class="keyword">false</span>,                  <span class="comment">/* Fault channel filter state (Enabled/Disabled) */</span></div>
<div class="line">            <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a>        <span class="comment">/* Channel output state on fault */</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"><span class="comment">/* Combine channels configuration structure for PWM */</span></div>
<div class="line"><a class="code" href="structftm__combined__ch__param__t.html">ftm_combined_ch_param_t</a> flexTimer1_CombinedChannelsConfig[1] =</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">        0U,                   <span class="comment">/* Hardware channel for channel 0 and channel 1 */</span></div>
<div class="line">        0U,                   <span class="comment">/* First edge time */</span></div>
<div class="line">        0x2000U,              <span class="comment">/* Second edge time */</span></div>
<div class="line">        <span class="keyword">true</span>,                 <span class="comment">/* Dead time enabled/disabled */</span></div>
<div class="line">        <span class="keyword">true</span>,                 <span class="comment">/* The modified combine mode enabled/disabled */</span></div>
<div class="line">        <a class="code" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723ab3c7e7ff6865e098dc563f101cbf2296">FTM_POLARITY_HIGH</a>,     <span class="comment">/* Select channel (n) polarity */</span></div>
<div class="line">        <span class="keyword">true</span>,                 <span class="comment">/* Enabled/disabled the channel (n+1) output */</span></div>
<div class="line">        <a class="code" href="group__ftm__pwm__driver.html#gga713bb504ba4feb21d58737b05e5eed5aad77b98c764a888678a6cbec93cc0cf1c">FTM_MAIN_INVERTED</a>,     <span class="comment">/* Select channel (n+1) output relative to channel (n) */</span></div>
<div class="line">        <span class="keyword">false</span>,                 <span class="comment">/* External Trigger on the channel (n) */</span></div>
<div class="line">        <span class="keyword">false</span>,                 <span class="comment">/* External Trigger on the channel (n+1) */</span></div>
<div class="line">        <a class="code" href="group__ftm__pwm__driver.html#ggad25b85b47385f2e01180ad9ab26f381cad56c019ddd5ea04f11a76272b39facc1">FTM_LOW_STATE</a>,         <span class="comment">/* Safe state of the PWM channel n when faults are detected */</span></div>
<div class="line">        <a class="code" href="group__ftm__pwm__driver.html#ggad25b85b47385f2e01180ad9ab26f381cad56c019ddd5ea04f11a76272b39facc1">FTM_LOW_STATE</a>,         <span class="comment">/* Safe state of the PWM channel n+1 when faults are detected */</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"><span class="comment">/* PWM configuration for PWM */</span></div>
<div class="line"><a class="code" href="structftm__pwm__param__t.html">ftm_pwm_param_t</a> PWM_PwmConfig =</div>
<div class="line">{</div>
<div class="line">    0U,                                <span class="comment">/* Number of independent PWM channels */</span></div>
<div class="line">    1U,                                <span class="comment">/* Number of combined PWM channels */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggad807c3c9d7e0ccde621aef85081ea8a8a84e04eb088c231a12a4801fabcc2b9cf">FTM_MODE_EDGE_ALIGNED_PWM</a>,         <span class="comment">/* PWM mode */</span></div>
<div class="line">    0U,                                <span class="comment">/* DeadTime Value */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#gga4ba0e8a6ee01ac1ead5aac305a183cbdae60dc92313d09089e8d36bc83f33753e">FTM_DEADTIME_DIVID_BY_4</a>,           <span class="comment">/* DeadTime clock divider */</span></div>
<div class="line">    7481U,                             <span class="comment">/* PWM frequency */</span></div>
<div class="line">    NULL,                              <span class="comment">/* Independent PWM channels configuration structure */</span></div>
<div class="line">    flexTimer1_CombinedChannelsConfig, <span class="comment">/* Combined PWM channels configuration structure */</span></div>
<div class="line">    &amp;PWM_FaultConfig                   <span class="comment">/* PWM fault configuration structure */</span></div>
<div class="line">};</div>
<div class="line"><span class="comment">/* Channels configuration structure for inputCapture input capture */</span></div>
<div class="line"><a class="code" href="structftm__input__ch__param__t.html">ftm_input_ch_param_t</a> inputCapture_InputCaptureChannelConfig[1] =</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">    3U,                             <span class="comment">/* Channel 3 (Make sure that the channel ID must different than PWM channels) */</span></div>
<div class="line">    <a class="code" href="group__ftm__ic__driver.html#gga557133532431418ce60f87f164c47d7fa3864d73394179be35f2030d3c41e42b1">FTM_EDGE_DETECT</a>,                <span class="comment">/* Input capture operation Mode */</span></div>
<div class="line">    <a class="code" href="group__ftm__ic__driver.html#gga646df4f4089877e573e94642e7794e5cac7ff042727fc03c8c04702948c4894f3">FTM_RISING_EDGE</a>,                <span class="comment">/* Edge alignment Mode */</span></div>
<div class="line">    <a class="code" href="group__ftm__ic__driver.html#gga5d8f8f6726725270df9f0299515d73dbaa0d27f2e067199ebb8e384cfe2df23d1">FTM_NO_MEASUREMENT</a>,             <span class="comment">/* Signal measurement operation type */</span></div>
<div class="line">    0U,                             <span class="comment">/* Filter value */</span></div>
<div class="line">    <span class="keyword">false</span>,                          <span class="comment">/* Filter disabled */</span></div>
<div class="line">    <span class="keyword">true</span>                            <span class="comment">/* Continuous mode measurement */</span></div>
<div class="line">    NULL,                           <span class="comment">/* Vector of callbacks  parameters for channels events */</span></div>
<div class="line">    NULL                            <span class="comment">/* Vector of callbacks for channels events */</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"><span class="comment">/* Input capture configuration for inputCapture */</span></div>
<div class="line"><a class="code" href="structftm__input__param__t.html">ftm_input_param_t</a> inputCapture_InputCaptureConfig =</div>
<div class="line">{</div>
<div class="line">    1U,                                     <span class="comment">/* Number of channels */</span></div>
<div class="line">    65535U,                                 <span class="comment">/* Maximum count value (This value is ignored and replaced by period value calculated from PWM configuration) */</span></div>
<div class="line">    inputCapture_InputCaptureChannelConfig  <span class="comment">/* Channels configuration */</span></div>
<div class="line">};</div>
<div class="line"><span class="comment">/* Timer mode configuration for PWM and Input Capture */</span></div>
<div class="line"><a class="code" href="structftm__user__config__t.html">ftm_user_config_t</a>  PWM_IC_InitConfig =</div>
<div class="line">{</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Software trigger state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 1 state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 2 state */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Hardware trigger 3 state */</span></div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Maximum loading point state */</span></div>
<div class="line">        <span class="keyword">true</span>,                       <span class="comment">/* Min loading point state */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for INVCTRL register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for SWOCTRL register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for OUTMASK register */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#gga6158d722e51c982604ab70350e950a09a5936fee435466fc46cab788c903b9183">FTM_SYSTEM_CLOCK</a>,           <span class="comment">/* Update mode for CNTIN register */</span></div>
<div class="line">        <span class="keyword">false</span>,                      <span class="comment">/* Auto clear trigger state for hardware trigger */</span></div>
<div class="line">        <a class="code" href="group__ftm.html#ggac2ec54f33420e81b2fdd359cb790fda1a32f1a5bafcb86881d1d7e92b63864627">FTM_WAIT_LOADING_POINTS</a>,    <span class="comment">/* Select synchronization method (Next Loading Point is recommended) */</span></div>
<div class="line">    },</div>
<div class="line">    <a class="code" href="group__ftm.html#ggad807c3c9d7e0ccde621aef85081ea8a8a84e04eb088c231a12a4801fabcc2b9cf">FTM_MODE_EDGE_ALIGNED_PWM</a>,      <span class="comment">/* Edge-Align PWM mode that can be used with Input Capture mode */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#gga3c3e411f333eecedb94d9e865d321bcfa43f636f98360ee2de559c717d283bf69">FTM_CLOCK_DIVID_BY_4</a>,           <span class="comment">/* FTM clock pre-scaler */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggaa06173bb43f7666ce1f39dd68fe74edca0294aefcd53cfb8c31ce2199ebf0ae81">FTM_CLOCK_SOURCE_SYSTEMCLK</a>,     <span class="comment">/* FTM clock source */</span></div>
<div class="line">    <a class="code" href="group__ftm.html#ggad56a34539f559be0d845c2f50b30961aa9e4da83e88d1e3f3ef3e7367abefff56">FTM_BDM_MODE_11</a>,                <span class="comment">/* FTM debug mode */</span></div>
<div class="line">    <span class="keyword">false</span>,                          <span class="comment">/* Interrupt state */</span></div>
<div class="line">    <span class="keyword">false</span>                           <span class="comment">/* Initialization trigger */</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/* Initialize FTM module */</span></div>
<div class="line"><a class="code" href="group__ftm.html#gab429cac803c9a9699ca81b36b172a0e5">FTM_DRV_Init</a>(FTM_PWM_IC_INSTANCE, &amp;PWM_IC_InitConfig, &amp;statePwmIc);</div>
<div class="line"><span class="comment">/* Initialize PWM cofiguration (Clock configuration for both PWM and Input Capture mode)</span></div>
<div class="line"><span class="comment"> * Initialize the additional Input Capture mode for other channels</span></div>
<div class="line"><span class="comment"> * FTM_DRV_InitPwm() must be called first before user calls FTM_DRV_InitInputCapture()</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><a class="code" href="group__ftm__pwm__driver.html#gac6b6890c12d3dc0a86ce2b5ac0744619">FTM_DRV_InitPwm</a>(FTM_PWM_IC_INSTANCE, &amp;PWM_PwmConfig);</div>
<div class="line"><a class="code" href="group__ftm__ic__driver.html#gaf574b301a371646566a166a9d942b014">FTM_DRV_InitInputCapture</a>(FTM_PWM_IC_INSTANCE, &amp;inputCapture_InputCaptureConfig);</div>
<div class="line"></div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">/* De-initialize Input Capture first</span></div>
<div class="line"><span class="comment"> * PWM signal still work normally</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line">FTM_DRV_DeinitInputCapture(FTM_PWM_IC_INSTANCE, &amp;inputCapture_InputCaptureConfig);</div>
<div class="line"><span class="comment">/* De-initialize PWM (FTM counter will be disabled) */</span></div>
<div class="line"><a class="code" href="group__ftm__pwm__driver.html#ga541ecc67cd74d69688d35db931d54b22">FTM_DRV_DeinitPwm</a>(FTM_PWM_IC_INSTANCE);</div>
</div><!-- fragment --> </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structftm__pwm__ch__fault__param__t.html">ftm_pwm_ch_fault_param_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlexTimer driver PWM Fault channel parameters.  <a href="structftm__pwm__ch__fault__param__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structftm__pwm__fault__param__t.html">ftm_pwm_fault_param_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlexTimer driver PWM Fault parameter.  <a href="structftm__pwm__fault__param__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structftm__independent__ch__param__t.html">ftm_independent_ch_param_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlexTimer driver independent PWM parameter.  <a href="structftm__independent__ch__param__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structftm__combined__ch__param__t.html">ftm_combined_ch_param_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlexTimer driver combined PWM parameter.  <a href="structftm__combined__ch__param__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structftm__pwm__param__t.html">ftm_pwm_param_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlexTimer driver PWM parameters.  <a href="structftm__pwm__param__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae617f28e1347e5ffab7bf37102a5c017"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#gae617f28e1347e5ffab7bf37102a5c017">FTM_MAX_DUTY_CYCLE</a>&#160;&#160;&#160;(0x8000U)</td></tr>
<tr class="memdesc:gae617f28e1347e5ffab7bf37102a5c017"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum value for PWM duty cycle.  <a href="#gae617f28e1347e5ffab7bf37102a5c017">More...</a><br /></td></tr>
<tr class="separator:gae617f28e1347e5ffab7bf37102a5c017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga160fada200a5a5915c88f889a9d770ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga160fada200a5a5915c88f889a9d770ee">FTM_DUTY_TO_TICKS_SHIFT</a>&#160;&#160;&#160;(15U)</td></tr>
<tr class="memdesc:ga160fada200a5a5915c88f889a9d770ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift value which converts duty to ticks.  <a href="#ga160fada200a5a5915c88f889a9d770ee">More...</a><br /></td></tr>
<tr class="separator:ga160fada200a5a5915c88f889a9d770ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac9002b5a0a07bff35f9dd1775ea092d9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#gac9002b5a0a07bff35f9dd1775ea092d9">ftm_pwm_update_option_t</a> { <a class="el" href="group__ftm__pwm__driver.html#ggac9002b5a0a07bff35f9dd1775ea092d9a573cc73c1639b8ccb503e85db65f6f04">FTM_PWM_UPDATE_IN_DUTY_CYCLE</a> = 0x00U, 
<a class="el" href="group__ftm__pwm__driver.html#ggac9002b5a0a07bff35f9dd1775ea092d9a98f0f7b28f8d35eca5bfea67486cf105">FTM_PWM_UPDATE_IN_TICKS</a> = 0x01U
 }<tr class="memdesc:gac9002b5a0a07bff35f9dd1775ea092d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlexTimer Configure type of PWM update in the duty cycle or in ticks.  <a href="group__ftm__pwm__driver.html#gac9002b5a0a07bff35f9dd1775ea092d9">More...</a><br /></td></tr>
<tr class="separator:gac9002b5a0a07bff35f9dd1775ea092d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga335bd0b88bb88492d4a96c745fa91723"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga335bd0b88bb88492d4a96c745fa91723">ftm_polarity_t</a> { <a class="el" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff">FTM_POLARITY_LOW</a> = 0x00U, 
<a class="el" href="group__ftm__pwm__driver.html#gga335bd0b88bb88492d4a96c745fa91723ab3c7e7ff6865e098dc563f101cbf2296">FTM_POLARITY_HIGH</a> = 0x01U
 }<tr class="memdesc:ga335bd0b88bb88492d4a96c745fa91723"><td class="mdescLeft">&#160;</td><td class="mdescRight">The polarity of the channel output is configured in PWM signal.  <a href="group__ftm__pwm__driver.html#ga335bd0b88bb88492d4a96c745fa91723">More...</a><br /></td></tr>
<tr class="separator:ga335bd0b88bb88492d4a96c745fa91723"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga713bb504ba4feb21d58737b05e5eed5a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga713bb504ba4feb21d58737b05e5eed5a">ftm_second_channel_polarity_t</a> { <a class="el" href="group__ftm__pwm__driver.html#gga713bb504ba4feb21d58737b05e5eed5aad77b98c764a888678a6cbec93cc0cf1c">FTM_MAIN_INVERTED</a> = 0x01U, 
<a class="el" href="group__ftm__pwm__driver.html#gga713bb504ba4feb21d58737b05e5eed5aab75246e5defb1a63fd6dbf0a5a25b4f4">FTM_MAIN_DUPLICATED</a> = 0x00U
 }<tr class="memdesc:ga713bb504ba4feb21d58737b05e5eed5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlexTimer PWM channel (n+1) polarity for combine mode.  <a href="group__ftm__pwm__driver.html#ga713bb504ba4feb21d58737b05e5eed5a">More...</a><br /></td></tr>
<tr class="separator:ga713bb504ba4feb21d58737b05e5eed5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga213e1e63c7f3d02502a5ef924821aaff"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga213e1e63c7f3d02502a5ef924821aaff">ftm_fault_mode_t</a> { <a class="el" href="group__ftm__pwm__driver.html#gga213e1e63c7f3d02502a5ef924821aaffa79fafd7686f46f361ebc2031bfca20de">FTM_FAULT_CONTROL_DISABLED</a> = 0x00U, 
<a class="el" href="group__ftm__pwm__driver.html#gga213e1e63c7f3d02502a5ef924821aaffae89a6bc05c3e0bc7383a472800c62b80">FTM_FAULT_CONTROL_MAN_EVEN</a> = 0x01U, 
<a class="el" href="group__ftm__pwm__driver.html#gga213e1e63c7f3d02502a5ef924821aaffa96bb0cfcec960741fad71b1a86921600">FTM_FAULT_CONTROL_MAN_ALL</a> = 0x02U, 
<a class="el" href="group__ftm__pwm__driver.html#gga213e1e63c7f3d02502a5ef924821aaffafa3389875e5245899157c0e70a6edc05">FTM_FAULT_CONTROL_AUTO_ALL</a> = 0x03U
 }<tr class="memdesc:ga213e1e63c7f3d02502a5ef924821aaff"><td class="mdescLeft">&#160;</td><td class="mdescRight">FlexTimer fault control.  <a href="group__ftm__pwm__driver.html#ga213e1e63c7f3d02502a5ef924821aaff">More...</a><br /></td></tr>
<tr class="separator:ga213e1e63c7f3d02502a5ef924821aaff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:gad25b85b47385f2e01180ad9ab26f381c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#gad25b85b47385f2e01180ad9ab26f381c">ftm_safe_state_polarity_t</a> { <a class="el" href="group__ftm__pwm__driver.html#ggad25b85b47385f2e01180ad9ab26f381cad56c019ddd5ea04f11a76272b39facc1">FTM_LOW_STATE</a> = 0x00U, 
<a class="el" href="group__ftm__pwm__driver.html#ggad25b85b47385f2e01180ad9ab26f381cafde3e93101c15d5267539b10328438ac">FTM_HIGH_STATE</a> = 0x01U
 }<tr class="memdesc:gad25b85b47385f2e01180ad9ab26f381c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select level of the channel (n) output at the beginning.  <a href="group__ftm__pwm__driver.html#gad25b85b47385f2e01180ad9ab26f381c">More...</a><br /></td></tr>
<tr class="separator:gad25b85b47385f2e01180ad9ab26f381c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga541ecc67cd74d69688d35db931d54b22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga541ecc67cd74d69688d35db931d54b22">FTM_DRV_DeinitPwm</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga541ecc67cd74d69688d35db931d54b22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops all PWM channels .  <a href="#ga541ecc67cd74d69688d35db931d54b22">More...</a><br /></td></tr>
<tr class="separator:ga541ecc67cd74d69688d35db931d54b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6b6890c12d3dc0a86ce2b5ac0744619"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#gac6b6890c12d3dc0a86ce2b5ac0744619">FTM_DRV_InitPwm</a> (uint32_t instance, const <a class="el" href="structftm__pwm__param__t.html">ftm_pwm_param_t</a> *param)</td></tr>
<tr class="memdesc:gac6b6890c12d3dc0a86ce2b5ac0744619"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the duty cycle and frequency and starts the output of the PWM on all channels configured in the param structure. The independent channel configuration need to clarify the polarity and safe state as following:  <a href="#gac6b6890c12d3dc0a86ce2b5ac0744619">More...</a><br /></td></tr>
<tr class="separator:gac6b6890c12d3dc0a86ce2b5ac0744619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30bef8e865a1153c8c98267a5559a7ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga30bef8e865a1153c8c98267a5559a7ec">FTM_DRV_UpdatePwmChannel</a> (uint32_t instance, uint8_t channel, <a class="el" href="group__ftm__pwm__driver.html#gac9002b5a0a07bff35f9dd1775ea092d9">ftm_pwm_update_option_t</a> typeOfUpdate, uint16_t firstEdge, uint16_t secondEdge, bool softwareTrigger)</td></tr>
<tr class="memdesc:ga30bef8e865a1153c8c98267a5559a7ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the waveform output in PWM mode (duty cycle and phase).  <a href="#ga30bef8e865a1153c8c98267a5559a7ec">More...</a><br /></td></tr>
<tr class="separator:ga30bef8e865a1153c8c98267a5559a7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a66f791116c53ff7e56e41a4313e23a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga8a66f791116c53ff7e56e41a4313e23a">FTM_DRV_FastUpdatePwmChannels</a> (uint32_t instance, uint8_t numberOfChannels, const uint8_t *channels, const uint16_t *duty, bool softwareTrigger)</td></tr>
<tr class="memdesc:ga8a66f791116c53ff7e56e41a4313e23a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will update the duty cycle of PWM output for multiple channels.  <a href="#ga8a66f791116c53ff7e56e41a4313e23a">More...</a><br /></td></tr>
<tr class="separator:ga8a66f791116c53ff7e56e41a4313e23a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3979d1985c44df81330651b141b26f31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga3979d1985c44df81330651b141b26f31">FTM_DRV_UpdatePwmPeriod</a> (uint32_t instance, <a class="el" href="group__ftm__pwm__driver.html#gac9002b5a0a07bff35f9dd1775ea092d9">ftm_pwm_update_option_t</a> typeOfUpdate, uint32_t newValue, bool softwareTrigger)</td></tr>
<tr class="memdesc:ga3979d1985c44df81330651b141b26f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will update the new period in the frequency or in the counter value into mode register which modify the period of PWM signal on the channel output.  <a href="#ga3979d1985c44df81330651b141b26f31">More...</a><br /></td></tr>
<tr class="separator:ga3979d1985c44df81330651b141b26f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac40f7e2107cd8847cfb4ed6e093df34a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#gac40f7e2107cd8847cfb4ed6e093df34a">FTM_DRV_ControlChannelOutput</a> (uint32_t instance, uint8_t channel, bool enableChannelOutput)</td></tr>
<tr class="memdesc:gac40f7e2107cd8847cfb4ed6e093df34a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to control the final logic of the channel output.  <a href="#gac40f7e2107cd8847cfb4ed6e093df34a">More...</a><br /></td></tr>
<tr class="separator:gac40f7e2107cd8847cfb4ed6e093df34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4afe741b015832af39eb6bf2fb3f0744"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#ga4afe741b015832af39eb6bf2fb3f0744">FTM_DRV_UpdatePwmPeriodDither</a> (uint32_t instance, uint8_t newModFracVal, bool softwareTrigger)</td></tr>
<tr class="memdesc:ga4afe741b015832af39eb6bf2fb3f0744"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will use in the PWM period dithering. This value is added to an internal accumulator at the end of each PWM period. The value is updated with its write buffer value according to the register synchronization.  <a href="#ga4afe741b015832af39eb6bf2fb3f0744">More...</a><br /></td></tr>
<tr class="separator:ga4afe741b015832af39eb6bf2fb3f0744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeee0749c84ee5ed2a231731de89707b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#gaeee0749c84ee5ed2a231731de89707b7">FTM_DRV_UpdatePwmEdgeChannelDither</a> (uint32_t instance, uint8_t channel, uint8_t newMatchFracVal, bool softwareTrigger)</td></tr>
<tr class="memdesc:gaeee0749c84ee5ed2a231731de89707b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will use in the PWM edge dithering. This value is added to the channel (n) internal accumulator at the end of each PWM period. The FRACVAL is updated with its write buffer value according to the register synchronization. The PWM edge dithering is not available when the channel in the input capture modes, and the channel in output compare modes.  <a href="#gaeee0749c84ee5ed2a231731de89707b7">More...</a><br /></td></tr>
<tr class="separator:gaeee0749c84ee5ed2a231731de89707b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac383e6e5acfb2bd11cb4e2c53c75d72f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ftm__pwm__driver.html#gac383e6e5acfb2bd11cb4e2c53c75d72f">FTM_PWM_DRV_IrqHandler</a> (uint32_t instance, uint32_t chnOutCtrlVal)</td></tr>
<tr class="memdesc:gac383e6e5acfb2bd11cb4e2c53c75d72f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to workaround an errata which the safe state is not removed from channel outputs after fault condition ends if SWOCTRL is being used to control the pin. The FTM_MODE[FAULTM] should be configured for manual fault clearing (0b10). This function must be used in the TOF interrupt handler when a fault is detected to ensure that the outputs return to the value configured by FTM_SWOCTR register.  <a href="#gac383e6e5acfb2bd11cb4e2c53c75d72f">More...</a><br /></td></tr>
<tr class="separator:gac383e6e5acfb2bd11cb4e2c53c75d72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga160fada200a5a5915c88f889a9d770ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTM_DUTY_TO_TICKS_SHIFT&#160;&#160;&#160;(15U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift value which converts duty to ticks. </p>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8h_source.html#l00042">42</a> of file <a class="el" href="ftm__pwm__driver_8h_source.html">ftm_pwm_driver.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae617f28e1347e5ffab7bf37102a5c017"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTM_MAX_DUTY_CYCLE&#160;&#160;&#160;(0x8000U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum value for PWM duty cycle. </p>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8h_source.html#l00040">40</a> of file <a class="el" href="ftm__pwm__driver_8h_source.html">ftm_pwm_driver.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga213e1e63c7f3d02502a5ef924821aaff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ftm__pwm__driver.html#ga213e1e63c7f3d02502a5ef924821aaff">ftm_fault_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FlexTimer fault control. </p>
<p>Implements : ftm_fault_mode_t_Class </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga213e1e63c7f3d02502a5ef924821aaffa79fafd7686f46f361ebc2031bfca20de"></a>FTM_FAULT_CONTROL_DISABLED&#160;</td><td class="fielddoc">
<p>Fault control is disabled for all channels </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga213e1e63c7f3d02502a5ef924821aaffae89a6bc05c3e0bc7383a472800c62b80"></a>FTM_FAULT_CONTROL_MAN_EVEN&#160;</td><td class="fielddoc">
<p>Fault control is enabled for even channels only (channels 0, 2, 4, and 6), and the selected mode is the manual fault clearing </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga213e1e63c7f3d02502a5ef924821aaffa96bb0cfcec960741fad71b1a86921600"></a>FTM_FAULT_CONTROL_MAN_ALL&#160;</td><td class="fielddoc">
<p>Fault control is enabled for all channels, and the selected mode is the manual fault clearing </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga213e1e63c7f3d02502a5ef924821aaffafa3389875e5245899157c0e70a6edc05"></a>FTM_FAULT_CONTROL_AUTO_ALL&#160;</td><td class="fielddoc">
<p>Fault control is enabled for all channels, and the selected mode is the automatic fault clearing </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8h_source.html#l00084">84</a> of file <a class="el" href="ftm__pwm__driver_8h_source.html">ftm_pwm_driver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga335bd0b88bb88492d4a96c745fa91723"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ftm__pwm__driver.html#ga335bd0b88bb88492d4a96c745fa91723">ftm_polarity_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The polarity of the channel output is configured in PWM signal. </p>
<p>Implements : ftm_polarity_t_Class </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga335bd0b88bb88492d4a96c745fa91723aeca23d79cc10a0e85ee3660f28018fff"></a>FTM_POLARITY_LOW&#160;</td><td class="fielddoc">
<p>The channel polarity is active LOW which is defined again </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga335bd0b88bb88492d4a96c745fa91723ab3c7e7ff6865e098dc563f101cbf2296"></a>FTM_POLARITY_HIGH&#160;</td><td class="fielddoc">
<p>The channel polarity is active HIGH which is defined again </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8h_source.html#l00060">60</a> of file <a class="el" href="ftm__pwm__driver_8h_source.html">ftm_pwm_driver.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac9002b5a0a07bff35f9dd1775ea092d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ftm__pwm__driver.html#gac9002b5a0a07bff35f9dd1775ea092d9">ftm_pwm_update_option_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FlexTimer Configure type of PWM update in the duty cycle or in ticks. </p>
<p>Implements : ftm_pwm_update_option_t_Class </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggac9002b5a0a07bff35f9dd1775ea092d9a573cc73c1639b8ccb503e85db65f6f04"></a>FTM_PWM_UPDATE_IN_DUTY_CYCLE&#160;</td><td class="fielddoc">
<p>The type of PWM update in the duty cycle/pulse or also use in frequency update </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac9002b5a0a07bff35f9dd1775ea092d9a98f0f7b28f8d35eca5bfea67486cf105"></a>FTM_PWM_UPDATE_IN_TICKS&#160;</td><td class="fielddoc">
<p>The type of PWM update in ticks </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8h_source.html#l00049">49</a> of file <a class="el" href="ftm__pwm__driver_8h_source.html">ftm_pwm_driver.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad25b85b47385f2e01180ad9ab26f381c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ftm__pwm__driver.html#gad25b85b47385f2e01180ad9ab26f381c">ftm_safe_state_polarity_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select level of the channel (n) output at the beginning. </p>
<p>Implements : ftm_safe_state_polarity_t_Class </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggad25b85b47385f2e01180ad9ab26f381cad56c019ddd5ea04f11a76272b39facc1"></a>FTM_LOW_STATE&#160;</td><td class="fielddoc">
<p>When fault is detected PWM channel is low. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad25b85b47385f2e01180ad9ab26f381cafde3e93101c15d5267539b10328438ac"></a>FTM_HIGH_STATE&#160;</td><td class="fielddoc">
<p>When fault is detected PWM channel is high. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8h_source.html#l00101">101</a> of file <a class="el" href="ftm__pwm__driver_8h_source.html">ftm_pwm_driver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga713bb504ba4feb21d58737b05e5eed5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ftm__pwm__driver.html#ga713bb504ba4feb21d58737b05e5eed5a">ftm_second_channel_polarity_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FlexTimer PWM channel (n+1) polarity for combine mode. </p>
<p>Implements : ftm_second_channel_polarity_t_Class </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga713bb504ba4feb21d58737b05e5eed5aad77b98c764a888678a6cbec93cc0cf1c"></a>FTM_MAIN_INVERTED&#160;</td><td class="fielddoc">
<p>The channel (n+1) output is the inverse of the channel (n) output </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga713bb504ba4feb21d58737b05e5eed5aab75246e5defb1a63fd6dbf0a5a25b4f4"></a>FTM_MAIN_DUPLICATED&#160;</td><td class="fielddoc">
<p>The channel (n+1) output is the same as the channel (n) output </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8h_source.html#l00071">71</a> of file <a class="el" href="ftm__pwm__driver_8h_source.html">ftm_pwm_driver.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac40f7e2107cd8847cfb4ed6e093df34a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> FTM_DRV_ControlChannelOutput </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enableChannelOutput</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to control the final logic of the channel output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The channel which is used in PWM mode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enableChannelOutput</td><td>Enable/disable the channel output. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success<ul>
<li>STATUS_SUCCESS : Completed successfully. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8c_source.html#l00675">675</a> of file <a class="el" href="ftm__pwm__driver_8c_source.html">ftm_pwm_driver.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga541ecc67cd74d69688d35db931d54b22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> FTM_DRV_DeinitPwm </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops all PWM channels . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>counter the current counter value </dd></dl>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8c_source.html#l00382">382</a> of file <a class="el" href="ftm__pwm__driver_8c_source.html">ftm_pwm_driver.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga8a66f791116c53ff7e56e41a4313e23a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> FTM_DRV_FastUpdatePwmChannels </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>numberOfChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>duty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>softwareTrigger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will update the duty cycle of PWM output for multiple channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numberOfChannels</td><td>The number of channels which should be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channels</td><td>The list of channels which should be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">duty</td><td>The list of duty cycles for selected channels. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">softwareTrigger</td><td>If true a software trigger is generate to update PWM parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success<ul>
<li>STATUS_SUCCESS : Completed successfully.</li>
<li>STATUS_ERROR : Error occurred. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8c_source.html#l00643">643</a> of file <a class="el" href="ftm__pwm__driver_8c_source.html">ftm_pwm_driver.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac6b6890c12d3dc0a86ce2b5ac0744619"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> FTM_DRV_InitPwm </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structftm__pwm__param__t.html">ftm_pwm_param_t</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the duty cycle and frequency and starts the output of the PWM on all channels configured in the param structure. The independent channel configuration need to clarify the polarity and safe state as following: </p>
<ul>
<li>In the first channel, the POL bit is the value of safeState variable. In the second channel, the POL bit is the same value of safeSate with the inverted channel and the POL bit is inverted safeState with the duplicated channel.</li>
<li>If the polarity and sate state are the value, it will be Low-true pulses. It means the ELSB:ELSA = 0:1. Otherwise, it will be High-true pulses. It means the ELSB:ELSA = 1:0. Regarding the combined channel configuration:</li>
<li>In both channels, the POL bit is the same value with the safeState variable</li>
<li>If the polarity and sate state are the value, it will be Low-true pulses. It means the ELSB:ELSA = 0:1. Otherwise, it will be High-true pulses. It means the ELSB:ELSA = 1:0.</li>
<li>COMP bit will be true when the polarity and safeState are the same value, the second channel is inverted .the first channel or when the polarity and safeState are difference value, the second channel is duplicated the first channel.</li>
<li>COMP bit will be false when the polarity and safeState are the same value, the second channel is duplicated .the first channel or when the polarity and safeState are difference value, the second channel is inverted the first channel.</li>
</ul>
<p>: These configuration will impact to the FTM_DRV_SetSoftwareOutputChannelControl and FTM_DRV_SetAllChnSoftwareOutputControl function. Because the software output control behavior depends on the polarity and COMP bit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>FTM driver PWM parameter to configure PWM options. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success<ul>
<li>STATUS_SUCCESS : Completed successfully.</li>
<li>STATUS_ERROR : Error occurred. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8c_source.html#l00258">258</a> of file <a class="el" href="ftm__pwm__driver_8c_source.html">ftm_pwm_driver.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga30bef8e865a1153c8c98267a5559a7ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> FTM_DRV_UpdatePwmChannel </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ftm__pwm__driver.html#gac9002b5a0a07bff35f9dd1775ea092d9">ftm_pwm_update_option_t</a>&#160;</td>
          <td class="paramname"><em>typeOfUpdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>firstEdge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>secondEdge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>softwareTrigger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function updates the waveform output in PWM mode (duty cycle and phase). </p>
<p>: Regarding the type of updating PWM in the duty cycle, if the expected duty is 100% then the value that is to be written to hardware will be exceed value of period. It means that the FTM counter will not match the value of the CnV register in this case.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The channel number. In combined mode, the code finds the channel. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">typeOfUpdate</td><td>The type of PWM update in the duty cycle/pulse or in ticks. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">firstEdge</td><td>Duty cycle or first edge time for PWM mode. Can take value between 0 - FTM_MAX_DUTY_CYCLE(0 = 0% from period and FTM_MAX_DUTY_CYCLE = 100% from period) Or value in ticks for the first of the PWM mode in which can have value between 0 and ftmPeriod is stored in the state structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">secondEdge</td><td>Second edge time - only for combined mode. Can take value between 0 - FTM_MAX_DUTY_CYCLE(0 = 0% from period and FTM_MAX_DUTY_CYCLE = 100% from period). Or value in ticks for the second of the PWM mode in which can have value between 0 and ftmPeriod is stored in the state structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">softwareTrigger</td><td>If true a software trigger is generate to update PWM parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success<ul>
<li>STATUS_SUCCESS : Completed successfully.</li>
<li>STATUS_ERROR : Error occurred. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8c_source.html#l00447">447</a> of file <a class="el" href="ftm__pwm__driver_8c_source.html">ftm_pwm_driver.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaeee0749c84ee5ed2a231731de89707b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> FTM_DRV_UpdatePwmEdgeChannelDither </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>newMatchFracVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>softwareTrigger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will use in the PWM edge dithering. This value is added to the channel (n) internal accumulator at the end of each PWM period. The FRACVAL is updated with its write buffer value according to the register synchronization. The PWM edge dithering is not available when the channel in the input capture modes, and the channel in output compare modes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The channel number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newMatchFracVal</td><td>The channel (n) match fractional value . </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">softwareTrigger</td><td>If true a software trigger is generate to update parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success<ul>
<li>STATUS_SUCCESS : Completed successfully.</li>
<li>STATUS_ERROR : Error occurred. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga3979d1985c44df81330651b141b26f31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> FTM_DRV_UpdatePwmPeriod </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ftm__pwm__driver.html#gac9002b5a0a07bff35f9dd1775ea092d9">ftm_pwm_update_option_t</a>&#160;</td>
          <td class="paramname"><em>typeOfUpdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>newValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>softwareTrigger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will update the new period in the frequency or in the counter value into mode register which modify the period of PWM signal on the channel output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">typeOfUpdate</td><td>The type of PWM update is a period in Hz or in ticks.<ul>
<li>For FTM_PWM_UPDATE_IN_DUTY_CYCLE which reuse in FTM_DRV_UpdatePwmChannel function will update in Hz.</li>
<li>For FTM_PWM_UPDATE_IN_TICKS will update in ticks. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newValue</td><td>The frequency or the counter value which will select with modified value for PWM signal. If the type of update in the duty cycle, the newValue parameter must be value between 1U and maximum is the frequency of the FTM counter. If the type of update in ticks, the newValue parameter must be value between 1U and 0xFFFFU. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">softwareTrigger</td><td>If true a software trigger is generate to update PWM parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>operation status<ul>
<li>STATUS_SUCCESS : Completed successfully.</li>
<li>STATUS_ERROR : Error occurred. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="ftm__pwm__driver_8c_source.html#l00576">576</a> of file <a class="el" href="ftm__pwm__driver_8c_source.html">ftm_pwm_driver.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4afe741b015832af39eb6bf2fb3f0744"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> FTM_DRV_UpdatePwmPeriodDither </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>newModFracVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>softwareTrigger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will use in the PWM period dithering. This value is added to an internal accumulator at the end of each PWM period. The value is updated with its write buffer value according to the register synchronization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newModFracVal</td><td>The modulo fractional value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">softwareTrigger</td><td>If true a software trigger is generate to update parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success<ul>
<li>STATUS_SUCCESS : Completed successfully.</li>
<li>STATUS_ERROR : Error occurred. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gac383e6e5acfb2bd11cb4e2c53c75d72f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FTM_PWM_DRV_IrqHandler </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>chnOutCtrlVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to workaround an errata which the safe state is not removed from channel outputs after fault condition ends if SWOCTRL is being used to control the pin. The FTM_MODE[FAULTM] should be configured for manual fault clearing (0b10). This function must be used in the TOF interrupt handler when a fault is detected to ensure that the outputs return to the value configured by FTM_SWOCTR register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The FTM peripheral instance number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chnOutCtrlVal</td><td>The value of some channel outputs are affected by software output control. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jun 11 2021 08:16:07 for S32 SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
